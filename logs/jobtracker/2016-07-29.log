2016-07-29 11:53:58 - Log File Created.

2016-07-29 11:53:58 - jobtracker - AdminClass -  - (579b27b65accc) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'suppliers'
AND `isactive` = 1

2016-07-29 11:53:58 - jobtracker - CustomerClass -  - (579b27b659c60) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:01 - jobtracker - AdminClass -  - (579b27b9bc5e5) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'suppliers/loadsuppliers'
AND `isactive` = 1

2016-07-29 11:54:01 - jobtracker - CustomerClass -  - (579b27b9bb199) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:01 - jobtracker - CustomerClass -  - (579b27b9bb199) 
 - Get Customer Data Query : SELECT s.customerid, companyname, st.name as typename, st.code as typecode, t.se_trade_name, s.phone, s.email, s.shipsuburb, s.shipstate, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact, GROUP_CONCAT(c.contactid) AS primarycontactid, s.isactive, s.hasetpaccess, s.currentbalance
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `ownercustomerid` = '7781'
GROUP BY `s`.`customerid`
ORDER BY `companyname` ASC
 LIMIT 25

2016-07-29 11:54:07 - jobtracker - AdminClass -  - (579b27bf37731) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/usersecurity'
AND `isactive` = 1

2016-07-29 11:54:07 - jobtracker - CustomerClass -  - (579b27bf3698a) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:10 - jobtracker - AdminClass -  - (579b27c292897) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/loadusersecurity'
AND `isactive` = 1

2016-07-29 11:54:10 - jobtracker - CustomerClass -  - (579b27c2915eb) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:10 - jobtracker - CustomerClass -  - (579b27c2915eb) 
 - Get Contact Security Functions Data Query : SELECT `cs`.`id`, `c`.`firstname`, `c`.`role`, `csf`.`functionname`, `csf`.`description`, `cs`.`hasaccess` as `isactive`, `cs`.`createdate`
FROM `cp_contactsecurity` `cs`
INNER JOIN `contact` `c` ON `cs`.`contactid`=`c`.`contactid`
INNER JOIN `cp_contactsecurityfunction` `csf` ON `cs`.`functionid`=`csf`.`id`
WHERE `csf`.`isactive` = 1
AND `c`.`customerid` = '7781'
ORDER BY `createdate` DESC
 LIMIT 25

2016-07-29 11:54:10 - jobtracker - AdminClass -  - (579b27c2bc6dd) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/loadauditlog'
AND `isactive` = 1

2016-07-29 11:54:10 - jobtracker - CustomerClass -  - (579b27c2bb50f) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:10 - jobtracker - CustomerClass -  - (579b27c2bb50f) 
 - Get Contact Security Audit Log Data Query : SELECT `al`.`dateadded`, `c1`.`firstname`, `csf`.`functionname`, `csf`.`description`, `c1`.`role`, IF(oldvalue IS NULL, 'Not Specified', IF(oldvalue=0, 'No Access', 'Has Access')) AS oldvalue, IF(newvalue IS NULL, 'Not Specified', IF(newvalue=0, 'No Access', 'Has Access')) AS newvalue, `c2`.`firstname` AS `editedby`
FROM `cp_contactsecurity_auditlog` `al`
LEFT JOIN `contact` `c1` ON `al`.`contactid`=`c1`.`contactid`
LEFT JOIN `contact` `c2` ON `al`.`addedby`=`c2`.`contactid`
LEFT JOIN `cp_contactsecurityfunction` `csf` ON `al`.`functionid`=`csf`.`id`
ORDER BY `dateadded` DESC
 LIMIT 25

2016-07-29 11:54:14 - jobtracker - AdminClass -  - (579b27c6ac3a9) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/getcontactsecuritydata'
AND `isactive` = 1

2016-07-29 11:54:14 - jobtracker - CustomerClass -  - (579b27c6ab7f9) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:14 - jobtracker - CustomerClass -  - (579b27c6ab7f9) 
 - Get Contact Security Data Query : SELECT m.name, csf.id, csf.functionname, csf.description FROM cp_contactsecurity cs INNER JOIN cp_contactsecurityfunction csf ON cs.`functionid` = csf.`id` INNER JOIN cp_module m ON csf.`moduleid`=m.id INNER JOIN contact c ON cs.`contactid` = c.contactid WHERE hasaccess=1 AND m.isactive=1 AND csf.isactive=1 AND c.contactid=26564 AND moduleid IN (SELECT moduleid FROM cp_module_access WHERE customerid = c.customerid AND masteraccess=1)

2016-07-29 11:54:21 - jobtracker - AdminClass -  - (579b27cde50aa) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/savecontactsecuritydata'
AND `isactive` = 1

2016-07-29 11:54:21 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Insert User Security  : 
 - Params

 - insertDataParams

 - insertDataParams
		functionid => 40
		contactid => 26564
		createdate => 2016-07-29 11:54:22
		hasaccess => 1

		logged_contactid => 26564

2016-07-29 11:54:22 - jobtracker - InsertUserSecurityChain -  - (579b27ce113c3) 
 - Insert User Security Query : INSERT INTO `cp_contactsecurity` (`contactid`, `createdate`, `functionid`, `hasaccess`) VALUES ('26564','2016-07-29 11:54:22','40',1)

2016-07-29 11:54:22 - jobtracker - UserSecurityAuditLogChain -  - (579b27ce1f2f9) 
 - Insert Contact Security Audit Log Query : INSERT INTO `cp_contactsecurity_auditlog` (`addedby`, `contactid`, `dateadded`, `functionid`, `newvalue`, `oldvalue`) VALUES ('26564','26564','2016-07-29 11:54:22','40',1,NULL)

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Update User Security  : 
 - Params

 - updateDataParams

 - updateDataParams
		id => 12
		functionid => 2
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 13
		functionid => 1
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 14
		functionid => 3
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 15
		functionid => 4
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 16
		functionid => 5
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 17
		functionid => 6
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 18
		functionid => 7
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 19
		functionid => 8
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 20
		functionid => 9
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 21
		functionid => 10
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 22
		functionid => 11
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 23
		functionid => 12
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 24
		functionid => 13
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 25
		functionid => 14
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 26
		functionid => 15
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 27
		functionid => 16
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 28
		functionid => 17
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 29
		functionid => 18
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 30
		functionid => 19
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 31
		functionid => 20
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 32
		functionid => 21
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 0

 - updateDataParams
		id => 52
		functionid => 22
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 53
		functionid => 23
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 54
		functionid => 24
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 55
		functionid => 25
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 56
		functionid => 26
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 57
		functionid => 27
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 58
		functionid => 28
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 59
		functionid => 29
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 60
		functionid => 30
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 61
		functionid => 31
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 62
		functionid => 32
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 63
		functionid => 33
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 64
		functionid => 34
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 65
		functionid => 35
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 66
		functionid => 36
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 67
		functionid => 37
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 68
		functionid => 38
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 69
		functionid => 39
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

 - updateDataParams
		id => 70
		functionid => 40
		contactid => 26564
		modifydate => 2016-07-29 11:54:22
		hasaccess => 1

		logged_contactid => 26564

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '12'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '13'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '14'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '15'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '16'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '17'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '18'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '19'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '20'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '21'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '22'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '23'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '24'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '25'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '26'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '27'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '28'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '29'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '30'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '31'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '32'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '52'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '53'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '54'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '55'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '56'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '57'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '58'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '59'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '60'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '61'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '62'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '63'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '64'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '65'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '66'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '67'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '68'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '69'

2016-07-29 11:54:22 - jobtracker - CustomerClass -  - (579b27cde4413) 
 - Get User Function Query : SELECT *
FROM `cp_contactsecurity`
WHERE `id` = '70'

2016-07-29 11:54:22 - jobtracker - UpdateUserSecurityChain -  - (579b27ce7c4e4) 
 - Update User Security Query : UPDATE `cp_contactsecurity` SET `functionid` = CASE 
WHEN `id` = '12' THEN '2'
WHEN `id` = '13' THEN '1'
WHEN `id` = '14' THEN '3'
WHEN `id` = '15' THEN '4'
WHEN `id` = '16' THEN '5'
WHEN `id` = '17' THEN '6'
WHEN `id` = '18' THEN '7'
WHEN `id` = '19' THEN '8'
WHEN `id` = '20' THEN '9'
WHEN `id` = '21' THEN '10'
WHEN `id` = '22' THEN '11'
WHEN `id` = '23' THEN '12'
WHEN `id` = '24' THEN '13'
WHEN `id` = '25' THEN '14'
WHEN `id` = '26' THEN '15'
WHEN `id` = '27' THEN '16'
WHEN `id` = '28' THEN '17'
WHEN `id` = '29' THEN '18'
WHEN `id` = '30' THEN '19'
WHEN `id` = '31' THEN '20'
WHEN `id` = '32' THEN '21'
WHEN `id` = '52' THEN '22'
WHEN `id` = '53' THEN '23'
WHEN `id` = '54' THEN '24'
WHEN `id` = '55' THEN '25'
WHEN `id` = '56' THEN '26'
WHEN `id` = '57' THEN '27'
WHEN `id` = '58' THEN '28'
WHEN `id` = '59' THEN '29'
WHEN `id` = '60' THEN '30'
WHEN `id` = '61' THEN '31'
WHEN `id` = '62' THEN '32'
WHEN `id` = '63' THEN '33'
WHEN `id` = '64' THEN '34'
WHEN `id` = '65' THEN '35'
WHEN `id` = '66' THEN '36'
WHEN `id` = '67' THEN '37'
WHEN `id` = '68' THEN '38'
WHEN `id` = '69' THEN '39'
WHEN `id` = '70' THEN '40'
ELSE `functionid` END, `contactid` = CASE 
WHEN `id` = '12' THEN '26564'
WHEN `id` = '13' THEN '26564'
WHEN `id` = '14' THEN '26564'
WHEN `id` = '15' THEN '26564'
WHEN `id` = '16' THEN '26564'
WHEN `id` = '17' THEN '26564'
WHEN `id` = '18' THEN '26564'
WHEN `id` = '19' THEN '26564'
WHEN `id` = '20' THEN '26564'
WHEN `id` = '21' THEN '26564'
WHEN `id` = '22' THEN '26564'
WHEN `id` = '23' THEN '26564'
WHEN `id` = '24' THEN '26564'
WHEN `id` = '25' THEN '26564'
WHEN `id` = '26' THEN '26564'
WHEN `id` = '27' THEN '26564'
WHEN `id` = '28' THEN '26564'
WHEN `id` = '29' THEN '26564'
WHEN `id` = '30' THEN '26564'
WHEN `id` = '31' THEN '26564'
WHEN `id` = '32' THEN '26564'
WHEN `id` = '52' THEN '26564'
WHEN `id` = '53' THEN '26564'
WHEN `id` = '54' THEN '26564'
WHEN `id` = '55' THEN '26564'
WHEN `id` = '56' THEN '26564'
WHEN `id` = '57' THEN '26564'
WHEN `id` = '58' THEN '26564'
WHEN `id` = '59' THEN '26564'
WHEN `id` = '60' THEN '26564'
WHEN `id` = '61' THEN '26564'
WHEN `id` = '62' THEN '26564'
WHEN `id` = '63' THEN '26564'
WHEN `id` = '64' THEN '26564'
WHEN `id` = '65' THEN '26564'
WHEN `id` = '66' THEN '26564'
WHEN `id` = '67' THEN '26564'
WHEN `id` = '68' THEN '26564'
WHEN `id` = '69' THEN '26564'
WHEN `id` = '70' THEN '26564'
ELSE `contactid` END, `modifydate` = CASE 
WHEN `id` = '12' THEN '2016-07-29 11:54:22'
WHEN `id` = '13' THEN '2016-07-29 11:54:22'
WHEN `id` = '14' THEN '2016-07-29 11:54:22'
WHEN `id` = '15' THEN '2016-07-29 11:54:22'
WHEN `id` = '16' THEN '2016-07-29 11:54:22'
WHEN `id` = '17' THEN '2016-07-29 11:54:22'
WHEN `id` = '18' THEN '2016-07-29 11:54:22'
WHEN `id` = '19' THEN '2016-07-29 11:54:22'
WHEN `id` = '20' THEN '2016-07-29 11:54:22'
WHEN `id` = '21' THEN '2016-07-29 11:54:22'
WHEN `id` = '22' THEN '2016-07-29 11:54:22'
WHEN `id` = '23' THEN '2016-07-29 11:54:22'
WHEN `id` = '24' THEN '2016-07-29 11:54:22'
WHEN `id` = '25' THEN '2016-07-29 11:54:22'
WHEN `id` = '26' THEN '2016-07-29 11:54:22'
WHEN `id` = '27' THEN '2016-07-29 11:54:22'
WHEN `id` = '28' THEN '2016-07-29 11:54:22'
WHEN `id` = '29' THEN '2016-07-29 11:54:22'
WHEN `id` = '30' THEN '2016-07-29 11:54:22'
WHEN `id` = '31' THEN '2016-07-29 11:54:22'
WHEN `id` = '32' THEN '2016-07-29 11:54:22'
WHEN `id` = '52' THEN '2016-07-29 11:54:22'
WHEN `id` = '53' THEN '2016-07-29 11:54:22'
WHEN `id` = '54' THEN '2016-07-29 11:54:22'
WHEN `id` = '55' THEN '2016-07-29 11:54:22'
WHEN `id` = '56' THEN '2016-07-29 11:54:22'
WHEN `id` = '57' THEN '2016-07-29 11:54:22'
WHEN `id` = '58' THEN '2016-07-29 11:54:22'
WHEN `id` = '59' THEN '2016-07-29 11:54:22'
WHEN `id` = '60' THEN '2016-07-29 11:54:22'
WHEN `id` = '61' THEN '2016-07-29 11:54:22'
WHEN `id` = '62' THEN '2016-07-29 11:54:22'
WHEN `id` = '63' THEN '2016-07-29 11:54:22'
WHEN `id` = '64' THEN '2016-07-29 11:54:22'
WHEN `id` = '65' THEN '2016-07-29 11:54:22'
WHEN `id` = '66' THEN '2016-07-29 11:54:22'
WHEN `id` = '67' THEN '2016-07-29 11:54:22'
WHEN `id` = '68' THEN '2016-07-29 11:54:22'
WHEN `id` = '69' THEN '2016-07-29 11:54:22'
WHEN `id` = '70' THEN '2016-07-29 11:54:22'
ELSE `modifydate` END, `hasaccess` = CASE 
WHEN `id` = '12' THEN 1
WHEN `id` = '13' THEN 1
WHEN `id` = '14' THEN 1
WHEN `id` = '15' THEN 1
WHEN `id` = '16' THEN 1
WHEN `id` = '17' THEN 1
WHEN `id` = '18' THEN 1
WHEN `id` = '19' THEN 1
WHEN `id` = '20' THEN 1
WHEN `id` = '21' THEN 1
WHEN `id` = '22' THEN 1
WHEN `id` = '23' THEN 1
WHEN `id` = '24' THEN 1
WHEN `id` = '25' THEN 1
WHEN `id` = '26' THEN 1
WHEN `id` = '27' THEN 1
WHEN `id` = '28' THEN 1
WHEN `id` = '29' THEN 1
WHEN `id` = '30' THEN 1
WHEN `id` = '31' THEN 1
WHEN `id` = '32' THEN 0
WHEN `id` = '52' THEN 1
WHEN `id` = '53' THEN 1
WHEN `id` = '54' THEN 1
WHEN `id` = '55' THEN 1
WHEN `id` = '56' THEN 1
WHEN `id` = '57' THEN 1
WHEN `id` = '58' THEN 1
WHEN `id` = '59' THEN 1
WHEN `id` = '60' THEN 1
WHEN `id` = '61' THEN 1
WHEN `id` = '62' THEN 1
WHEN `id` = '63' THEN 1
WHEN `id` = '64' THEN 1
WHEN `id` = '65' THEN 1
WHEN `id` = '66' THEN 1
WHEN `id` = '67' THEN 1
WHEN `id` = '68' THEN 1
WHEN `id` = '69' THEN 1
WHEN `id` = '70' THEN 1
ELSE `hasaccess` END
WHERE `id` IN('12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31','32','52','53','54','55','56','57','58','59','60','61','62','63','64','65','66','67','68','69','70')

2016-07-29 11:54:22 - jobtracker - UserSecurityAuditLogChain -  - (579b27ce911c4) 
 - Insert Contact Security Audit Log Query : INSERT INTO `cp_contactsecurity_auditlog` (`addedby`, `contactid`, `dateadded`, `functionid`, `newvalue`, `oldvalue`) VALUES ('26564','26564','2016-07-29 11:54:22','2',1,'1'), ('26564','26564','2016-07-29 11:54:22','1',1,'1'), ('26564','26564','2016-07-29 11:54:22','3',1,'1'), ('26564','26564','2016-07-29 11:54:22','4',1,'1'), ('26564','26564','2016-07-29 11:54:22','5',1,'1'), ('26564','26564','2016-07-29 11:54:22','6',1,'1'), ('26564','26564','2016-07-29 11:54:22','7',1,'1'), ('26564','26564','2016-07-29 11:54:22','8',1,'1'), ('26564','26564','2016-07-29 11:54:22','9',1,'1'), ('26564','26564','2016-07-29 11:54:22','10',1,'1'), ('26564','26564','2016-07-29 11:54:22','11',1,'1'), ('26564','26564','2016-07-29 11:54:22','12',1,'1'), ('26564','26564','2016-07-29 11:54:22','13',1,'1'), ('26564','26564','2016-07-29 11:54:22','14',1,'1'), ('26564','26564','2016-07-29 11:54:22','15',1,'1'), ('26564','26564','2016-07-29 11:54:22','16',1,'1'), ('26564','26564','2016-07-29 11:54:22','17',1,'1'), ('26564','26564','2016-07-29 11:54:22','18',1,'1'), ('26564','26564','2016-07-29 11:54:22','19',1,'1'), ('26564','26564','2016-07-29 11:54:22','20',1,'1'), ('26564','26564','2016-07-29 11:54:22','21',0,'0'), ('26564','26564','2016-07-29 11:54:22','22',1,'1'), ('26564','26564','2016-07-29 11:54:22','23',1,'1'), ('26564','26564','2016-07-29 11:54:22','24',1,'1'), ('26564','26564','2016-07-29 11:54:22','25',1,'1'), ('26564','26564','2016-07-29 11:54:22','26',1,'1'), ('26564','26564','2016-07-29 11:54:22','27',1,'1'), ('26564','26564','2016-07-29 11:54:22','28',1,'1'), ('26564','26564','2016-07-29 11:54:22','29',1,'1'), ('26564','26564','2016-07-29 11:54:22','30',1,'1'), ('26564','26564','2016-07-29 11:54:22','31',1,'1'), ('26564','26564','2016-07-29 11:54:22','32',1,'1'), ('26564','26564','2016-07-29 11:54:22','33',1,'1'), ('26564','26564','2016-07-29 11:54:22','34',1,'1'), ('26564','26564','2016-07-29 11:54:22','35',1,'1'), ('26564','26564','2016-07-29 11:54:22','36',1,'1'), ('26564','26564','2016-07-29 11:54:22','37',1,'1'), ('26564','26564','2016-07-29 11:54:22','38',1,'1'), ('26564','26564','2016-07-29 11:54:22','39',1,'0'), ('26564','26564','2016-07-29 11:54:22','40',1,'1')

2016-07-29 11:54:23 - jobtracker - AdminClass -  - (579b27ceef635) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/loadusersecurity'
AND `isactive` = 1

2016-07-29 11:54:23 - jobtracker - CustomerClass -  - (579b27ceee687) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:23 - jobtracker - CustomerClass -  - (579b27ceee687) 
 - Get Contact Security Functions Data Query : SELECT `cs`.`id`, `c`.`firstname`, `c`.`role`, `csf`.`functionname`, `csf`.`description`, `cs`.`hasaccess` as `isactive`, `cs`.`createdate`
FROM `cp_contactsecurity` `cs`
INNER JOIN `contact` `c` ON `cs`.`contactid`=`c`.`contactid`
INNER JOIN `cp_contactsecurityfunction` `csf` ON `cs`.`functionid`=`csf`.`id`
WHERE `csf`.`isactive` = 1
AND `c`.`customerid` = '7781'
ORDER BY `createdate` DESC
 LIMIT 25

2016-07-29 11:54:25 - jobtracker - AdminClass -  - (579b27d18d362) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'suppliers'
AND `isactive` = 1

2016-07-29 11:54:25 - jobtracker - CustomerClass -  - (579b27d18c787) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:28 - jobtracker - AdminClass -  - (579b27d47b5f6) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'suppliers/loadsuppliers'
AND `isactive` = 1

2016-07-29 11:54:28 - jobtracker - CustomerClass -  - (579b27d47a775) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:28 - jobtracker - CustomerClass -  - (579b27d47a775) 
 - Get Customer Data Query : SELECT s.customerid, companyname, st.name as typename, st.code as typecode, t.se_trade_name, s.phone, s.email, s.shipsuburb, s.shipstate, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact, GROUP_CONCAT(c.contactid) AS primarycontactid, s.isactive, s.hasetpaccess, s.currentbalance
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `ownercustomerid` = '7781'
GROUP BY `s`.`customerid`
ORDER BY `companyname` ASC
 LIMIT 25

2016-07-29 11:54:32 - jobtracker - AdminClass -  - (579b27d8a6496) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'suppliers/edit'
AND `isactive` = 1

2016-07-29 11:54:32 - jobtracker - CustomerClass -  - (579b27d8a5881) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:32 - jobtracker - CustomerClass -  - (579b27d8a5881) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '11012'
GROUP BY `s`.`customerid`

2016-07-29 11:54:38 - jobtracker - AdminClass -  - (579b27debce5f) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'suppliers/loadsuppliercontacts'
AND `isactive` = 1

2016-07-29 11:54:38 - jobtracker - CustomerClass -  - (579b27debc25b) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:38 - jobtracker - CustomerClass -  - (579b27debc25b) 
 - Get Contact Data Query : SELECT c.*, TRIM(CONCAT(c.firstname,' ',c.surname)) as contactname, TRIM(CONCAT(c2.firstname,' ',c2.surname)) AS reportsto, IF(c.active=1,'Active',IF(c.cp_invitesendtime IS NULL, 'Inactive','Invited')) AS status, t.se_trade_name AS trade
FROM `contact` `c`
LEFT JOIN `contact` `c2` ON `c`.`bossid`=`c2`.`contactid`
LEFT JOIN `se_trade` `t` ON `c`.`tradeid`=`t`.`id`
WHERE `c`.`customerid` = '11012'
ORDER BY `contactname` ASC
 LIMIT 25

2016-07-29 11:54:56 - jobtracker - AdminClass -  - (579b27f08fbcc) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'logjobquote'
AND `isactive` = 1

2016-07-29 11:54:56 - jobtracker - CustomerClass -  - (579b27f08f077) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:56 - jobtracker - CustomerClass -  - (579b27f08f077) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:54:56 - jobtracker - CustomerClass -  - (579b27f08f077) 
 - Get contact Data Query : SELECT c.*, CONCAT(c.firstname,' ',c.surname) as contactname
FROM `contact` `c`
WHERE `c`.`contactid` =0

2016-07-29 11:55:06 - jobtracker - AdminClass -  - (579b27fae00b7) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'logjobquote/loadSiteSearch'
AND `isactive` = 1

2016-07-29 11:55:06 - jobtracker - CustomerClass -  - (579b27fadf380) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:55:43 - jobtracker - AdminClass -  - (579b281f8ae45) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'logjobquote'
AND `isactive` = 1

2016-07-29 11:55:43 - jobtracker - CustomerClass -  - (579b281f8a2f6) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:55:43 - jobtracker - CustomerClass -  - (579b281f8a2f6) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:55:43 - jobtracker - CustomerClass -  - (579b281f8a2f6) 
 - Get contact Data Query : SELECT c.*, CONCAT(c.firstname,' ',c.surname) as contactname
FROM `contact` `c`
WHERE `c`.`contactid` =0

2016-07-29 11:55:43 - jobtracker - CustomerClass -  - (579b281f8a2f6) 
 - Get address Data Query : SELECT `a`.*, `c`.`phone`, `c`.`mobile`, `c`.`email`
FROM `addresslabel` `a`
LEFT JOIN `contact` `c` ON `c`.`contactid` = `a`.`contactid`
WHERE `a`.`labelid` = '48873'

2016-07-29 11:55:43 - jobtracker - InsertJobChain -  - (579b281fab8a7) 
 - Insert job Query : INSERT INTO `jobs` (`custordref`, `custordref2`, `custordref3`, `customerid`, `labelid`, `siteline1`, `siteline2`, `sitesuburb`, `sitestate`, `sitepostcode`, `territory`, `sitecontactid`, `sitecontact`, `sitephone`, `siteemail`, `contactid`, `sitefm`, `sitefmph`, `sitefmemail`, `notexceed`, `priority`, `jobdescription`, `quoterqd`, `responsedatelock`, `custordrefLabel`, `custordrefLabel2`, `custordrefLabel3`, `leaddate`, `duedate`, `duetime`, `responseduedate`, `responseduetime`, `jrespintdate`, `internalduedate`, `jdaysbuffer`, `jrespbuffer`, `jobstage`, `nophoto_check`, `userid`, `origin`, `parentid`, `dcfmbufferv`, `internalqlimit`) VALUES ('', 'Site D_', '', '7781', '48873', 'Sample Client', '216 View Street', 'ANNANDALE', 'NSW', '4814', '', '32554', 'John Doe', '04 0099 9777', 'ankitchen@gmail.com', '26564', 'John Doe', '04 0088 8888', 'ankitchen@gmail.com', '1500', 'P2 - 24hr', 'Test\n \nAll contractors must notify the DCFM Helpdesk on 02-9460-7676 on arriving at site and on completion of works.', '', 'false', 'PO Number', 'PO', 'WO', '2016-07-29', '2016-08-01', '15:55:43', '2016-08-01', '15:55:43', '2016-07-29', '2016-07-29', '1', '4', 'portal_await_approval', '0', 'samplemaster@sample.com.au', 'CP', 0, 250, 1250)

2016-07-29 11:55:43 - jobtracker - InsertJobChain -  - (579b281fab8a7) 
 - Update auto_create_custordref_in_client_portal Query : UPDATE `jobs` SET `custordref` = 417136
WHERE `jobid` = 417136

2016-07-29 11:55:43 - jobtracker - CustomerClass -  - (579b281f8a2f6) 
 - Update Address  : 
 - Params

 - updateDataParams
		workorder_increment_val => 3

		labelid => 48873
		logged_contactid => 26564

2016-07-29 11:55:43 - jobtracker - CustomerClass -  - (579b281f8a2f6) 
 - Get address Data Query : SELECT `a`.*, `c`.`phone`, `c`.`mobile`, `c`.`email`
FROM `addresslabel` `a`
LEFT JOIN `contact` `c` ON `c`.`contactid` = `a`.`contactid`
WHERE `a`.`labelid` = '48873'

2016-07-29 11:55:43 - jobtracker - UpdateAddressChain -  - (579b281fcd421) 
 - Update Address Query : UPDATE `addresslabel` SET `workorder_increment_val` = 3, `editdate` = '2016-07-29 11:55:43'
WHERE `labelid` = '48873'

2016-07-29 11:55:43 - jobtracker - EditLogChain -  - (579b281fd5956) 
 - Insert Edit Log Query : INSERT INTO `editlog` (`editdate`, `fieldname`, `newvalue`, `oldvalue`, `recordid`, `tablename`, `userid`) VALUES ('2016-07-29 11:55:43','workorder_increment_val',3,'2','48873','addresslabel','samplemaster@sample.com.au')

2016-07-29 11:55:44 - jobtracker - AdminClass -  - (579b28201a440) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/jobdetail'
AND `isactive` = 1

2016-07-29 11:55:44 - jobtracker - CustomerClass -  - (579b282019574) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:55:44 - jobtracker - DocumentClass -  - (579b28202eabf) 
 - Get Job Images Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417136'
AND `d`.`xreftable` = 'jobs'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.docname NOT LIKE '%cost%' AND d.docname NOT LIKE '%tender%' AND d.docname NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder LIKE '%image%' OR d.docfolder LIKE '%photo%'))

2016-07-29 11:55:44 - jobtracker - JobClass -  - (579b28202f3e9) 
 - Get Purchase order Data Query : SELECT po.*, s.companyname as suppliername, s.phone as supplierphone, s.email as supplieremail, c.companyname, c.email as companyemail, j.labelid, j.siteline1, j.siteline2, j.siteline3, j.sitesuburb, j.sitestate, j.sitepostcode, j.jobdescription, j.sitecontact, j.sitephone, j.siteemail, j.customerid, j.quoterqd, a.latitude_decimal, a.longitude_decimal, GROUP_CONCAT(TRIM(CONCAT(con.firstname,' ',con.surname))) AS primarycontact
FROM `purchaseorders` `po`
INNER JOIN `jobs` `j` ON `po`.`jobid` =`j`.`jobid`
INNER JOIN `customer` `c` ON `j`.`customerid` =`c`.`customerid`
LEFT JOIN `addresslabel` `a` ON `a`.`labelid` =`j`.`labelid`
LEFT JOIN `customer` `s` ON `po`.`supplierid` =`s`.`customerid`
LEFT JOIN `contact` `con` ON `s`.`customerid`=`con`.`customerid` and `con`.`primarycontact`=1
WHERE `po`.`jobid` = '417136'
GROUP BY `s`.`customerid`

2016-07-29 11:55:47 - jobtracker - AdminClass -  - (579b28238e462) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobdocumentsbyjobid'
AND `isactive` = 1

2016-07-29 11:55:47 - jobtracker - CustomerClass -  - (579b28238d4b8) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:55:47 - jobtracker - DocumentClass -  - (579b28239d20f) 
 - Get Job Documents Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417136'
AND `d`.`xreftable` = 'jobs'
AND `d`.`doctype` != 'images'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.doctype NOT LIKE '%cost%' AND d.doctype NOT LIKE '%tender%' AND d.doctype NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder NOT LIKE '%cost%' AND d.docfolder NOT LIKE '%tender%' AND d.docfolder NOT LIKE '%quot%' AND d.docfolder NOT LIKE '%supplier invoice%' AND NOT (d.docfolder LIKE '%report%' AND d.docformat LIKE 'pdf') AND d.docfolder NOT LIKE '%image%' AND d.docfolder NOT LIKE '%photo%'))
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 11:55:47 - jobtracker - AdminClass -  - (579b2823b6ee8) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobnotes'
AND `isactive` = 1

2016-07-29 11:55:47 - jobtracker - CustomerClass -  - (579b2823b46c1) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:55:47 - jobtracker - JobClass -  - (579b2823cd31c) 
 - Get Job Notes Data Query : SELECT `jobnoteid`, `notes`, `notetype`, `date`
FROM `jobnote`
WHERE `jobid` = '417136'
AND `notetype` IN('client', 'completion', 'internal.extend', 'portal')
ORDER BY `jobnoteid` DESC
 LIMIT 25

2016-07-29 11:55:47 - jobtracker - AdminClass -  - (579b2823e6097) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobtasks'
AND `isactive` = 1

2016-07-29 11:55:47 - jobtracker - CustomerClass -  - (579b2823e490a) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:55:48 - jobtracker - JobClass -  - (579b282406876) 
 - Get Job Tasks Data Query : SELECT DISTINCT `t`.*
FROM `task` `t`
INNER JOIN `contact` `c` ON `c`.`email` = `t`.`allocatedto`
INNER JOIN `jobs` `j` ON `t`.`jobid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `t`.`jobid` = '417136'
AND `t`.`customerid` = '7781'
ORDER BY `tdate` DESC
 LIMIT 25

2016-07-29 11:55:48 - jobtracker - AdminClass -  - (579b282420ad3) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobreports'
AND `isactive` = 1

2016-07-29 11:55:48 - jobtracker - CustomerClass -  - (579b28241f827) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:55:48 - jobtracker - DocumentClass -  - (579b282433885) 
 - Get Job Reports Data Query : SELECT *
FROM `document`
WHERE `xrefid` = '417136'
AND `xreftable` = 'jobs'
AND `docfolder` = 'Reports'
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 11:55:53 - jobtracker - AdminClass -  - (579b282995922) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/portalsetup'
AND `isactive` = 1

2016-07-29 11:55:53 - jobtracker - CustomerClass -  - (579b282994df1) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:55:56 - jobtracker - AdminClass -  - (579b282c2b9f7) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/loadportalsettings'
AND `isactive` = 1

2016-07-29 11:55:56 - jobtracker - CustomerClass -  - (579b282c2a972) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:55:56 - jobtracker - CustomerClass -  - (579b282c2a972) 
 - Get Portal Settings Data Query : SELECT rulename_id, caption, valuetype,  default_rule_value, default_is_sitecontact, default_is_sitefm, default_is_master,  (SELECT rule_value FROM customer_rule_customer WHERE customer_rule_id= rulename_id AND customerid=7781) AS value,  (SELECT is_sitecontact FROM customer_rule_customer WHERE customer_rule_id= rulename_id AND customerid=7781) AS is_sitecontact,  (SELECT is_sitefm FROM customer_rule_customer WHERE customer_rule_id= rulename_id AND customerid=7781) AS is_sitefm,  (SELECT is_master FROM customer_rule_customer WHERE customer_rule_id= rulename_id AND customerid=7781) AS is_master  FROM customer_rulename cr WHERE isclientportal=1 AND is_active=1  ORDER BY valuetype, caption 

2016-07-29 11:55:56 - jobtracker - AdminClass -  - (579b282c53cdd) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/loadportalauditlog'
AND `isactive` = 1

2016-07-29 11:55:56 - jobtracker - CustomerClass -  - (579b282c52a04) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:55:56 - jobtracker - CustomerClass -  - (579b282c52a04) 
 - Get Portal Settings Audit Log Data Query : SELECT `pal`.`id`, `pal`.`dateadded`, `cr`.`caption` AS `setting`, `pal`.`oldvalue`, `pal`.`newvalue`, `c`.`firstname` AS `editedby`
FROM `cp_portalsetup_auditlog` `pal`
INNER JOIN `customer_rulename` `cr` ON `pal`.`ruleid`=`cr`.`rulename_id`
LEFT JOIN `contact` `c` ON `pal`.`addedby`=`c`.`contactid`
WHERE `pal`.`customerid` = '7781'
ORDER BY `dateadded` DESC
 LIMIT 25

2016-07-29 11:56:02 - jobtracker - AdminClass -  - (579b283221668) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/updateportalsettings'
AND `isactive` = 1

2016-07-29 11:56:02 - jobtracker - CustomerClass -  - (579b283220a79) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:56:02 - jobtracker - CustomerClass -  - (579b283220a79) 
 - Get portal data Query : SELECT *
FROM `customer_rule_customer`
WHERE `customer_rule_id` = '56'
AND `customerid` = '7781'

2016-07-29 11:56:02 - jobtracker - CustomerClass -  - (579b283220a79) 
 - Update User Security  : 
 - Params
		rulename_id => 56
		customerid => 7781

 - updateDataParams
		rule_value => 0
		is_master => 1
		is_sitefm => 1
		is_sitecontact => 1
		modify_date => 2016-07-29 11:56:02
		modify_user => 26564

		logged_contactid => 26564

2016-07-29 11:56:02 - jobtracker - CustomerClass -  - (579b283220a79) 
 - Get portal data Query : SELECT *
FROM `customer_rule_customer`
WHERE `customer_rule_id` = '56'
AND `customerid` = '7781'

2016-07-29 11:56:02 - jobtracker - UpdatePortalSettingChain -  - (579b283237604) 
 - Update Portal Settings Query : UPDATE `customer_rule_customer` SET `rule_value` = '0', `is_master` = '1', `is_sitefm` = '1', `is_sitecontact` = '1', `modify_date` = '2016-07-29 11:56:02', `modify_user` = '26564'
WHERE `customer_rule_id` = '56'
AND `customerid` = '7781'

2016-07-29 11:56:02 - jobtracker - PortalSettingAuditLogChain -  - (579b283249065) 
 - Insert Portal Setup Audit Log Query : INSERT INTO `cp_portalsetup_auditlog` (`customerid`, `ruleid`, `oldvalue`, `newvalue`, `addedby`, `dateadded`) VALUES ('7781', '56', '1', '0', '26564', '2016-07-29 11:56:02')

2016-07-29 11:56:05 - jobtracker - AdminClass -  - (579b283582907) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs'
AND `isactive` = 1

2016-07-29 11:56:05 - jobtracker - CustomerClass -  - (579b283581c7d) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:56:05 - jobtracker - JobClass -  - (579b283591f07) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND (`j`.`quoterqd` is null or `j`.`quoterqd` != 'on')
AND `j`.`jobstage` IN('portal_await_approval', 'Waiting_Client_Instructions')
GROUP BY `j`.`sitesuburb`

2016-07-29 11:56:05 - jobtracker - JobClass -  - (579b283591f07) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `j`.`jobstage` IN('portal', 'next_allocate', 'info_pending', 'approved_from_portal')
AND IFNULL(variationstage,'') != 'variation_request_sent'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
GROUP BY `j`.`sitesuburb`

2016-07-29 11:56:05 - jobtracker - JobClass -  - (579b283591f07) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `js`.`portaldesc` = 'Job In Progress'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
GROUP BY `j`.`sitesuburb`

2016-07-29 11:56:05 - jobtracker - JobClass -  - (579b283591f07) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'declined')
AND `variationstage` = 'variation_request_sent'
GROUP BY `j`.`sitesuburb`

2016-07-29 11:56:05 - jobtracker - JobClass -  - (579b283591f07) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `js`.`portaldesc` = 'Job Completed'
GROUP BY `j`.`sitesuburb`

2016-07-29 11:56:05 - jobtracker - JobClass -  - (579b283591f07) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` = 'hold'
GROUP BY `j`.`sitesuburb`

2016-07-29 11:56:05 - jobtracker - JobClass -  - (579b283591f07) 
 - Get Jobs Count With Suburb Data Query : SELECT po.supplierid, cus.companyname, COUNT(po.jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `purchaseorders` `po` ON `j`.`jobid` = `po`.`jobid`
LEFT JOIN `customer` `cus` ON `po`.`supplierid` = `cus`.`customerid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `js`.`portaldesc` = 'Job In Progress'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
AND `po`.`supplierid` != '0'
GROUP BY `po`.`supplierid`

2016-07-29 11:56:05 - jobtracker - JobClass -  - (579b283591f07) 
 - Get Jobs Count With Suburb Data Query : SELECT po.supplierid, cus.companyname, COUNT(po.jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `purchaseorders` `po` ON `j`.`jobid` = `po`.`jobid`
LEFT JOIN `customer` `cus` ON `po`.`supplierid` = `cus`.`customerid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `js`.`portaldesc` = 'Job Completed'
AND `po`.`supplierid` != '0'
GROUP BY `po`.`supplierid`

2016-07-29 11:56:05 - jobtracker - JobClass -  - (579b283591f07) 
 - Get Jobs Count With sitefm Data Query : SELECT j.sitefm, a.contactid, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'declined')
AND `variationstage` = 'variation_request_sent'
GROUP BY `j`.`sitefm`

2016-07-29 11:56:10 - jobtracker - AdminClass -  - (579b283a31011) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadwaitingapprovaljobs'
AND `isactive` = 1

2016-07-29 11:56:10 - jobtracker - CustomerClass -  - (579b283a2fe6e) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:56:10 - jobtracker - JobClass -  - (579b283a42dc0) 
 - Get Waiting Approval Jobs Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
INNER JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND (`j`.`quoterqd` is null or `j`.`quoterqd` != 'on')
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` IN('portal_await_approval', 'Waiting_Client_Instructions')
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 11:56:17 - jobtracker - AdminClass -  - (579b2841eb9d4) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/updatejoballocation'
AND `isactive` = 1

2016-07-29 11:56:18 - jobtracker - CustomerClass -  - (579b2841eae48) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:56:18 - jobtracker - CustomerClass -  - (579b284206b26) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '11012'
GROUP BY `s`.`customerid`

2016-07-29 11:56:18 - jobtracker - UpdateJobChain -  - (579b28422be11) 
 - Update jobs Query : UPDATE `jobs` SET `jobstage` = 'client_allocated'
WHERE `jobid` = '417136'

2016-07-29 11:56:18 - jobtracker - InsertPurchaseOrderChain -  - (579b284235e2f) 
 - Create PO Query : INSERT INTO `purchaseorders` (`supplierid`, `statusid`, `podate`, `attendbydate`, `attendbytime`, `completebydate`, `completebytime`, `jobid`, `userid`, `polimit`, `ownercustid`) VALUES ('11012', 10, '2016-07-29 11:56:18', '2016-07-29', NULL, '2016-08-01', '15:55:43', '417136', 'samplemaster@sample.com.au', '1500.00', '7781')

2016-07-29 11:56:18 - jobtracker - CreateJobDocumentRequiredChain -  - (579b28423e411) 
 - Insert job_document_required Query : INSERT INTO `job_document_required` (`create_date`, `documentid`, `dont_send`, `from_category_rule`, `jobid`, `poref`, `required_complete`, `required_start`) VALUES ('2016-07-29 11:56:18','39688','0','1130','417136',279515,'1','0'), ('2016-07-29 11:56:18','105253','0','1130','417136',279515,'1','0'), ('2016-07-29 11:56:18','105319','0','1130','417136',279515,'0','0'), ('2016-07-29 11:56:18','58120','0','1130','417136',279515,'0','0'), ('2016-07-29 11:56:18','91554','0','1130','417136',279515,'0','0'), ('2016-07-29 11:56:18','123918','0','1130','417136',279515,'0','0'), ('2016-07-29 11:56:18','39698','0','1130','417136',279515,'0','0'), ('2016-07-29 11:56:18','124942','0','1130','417136',279515,'0','0'), ('2016-07-29 11:56:18','175671','0','1130','417136',279515,'1','0')

2016-07-29 11:56:18 - jobtracker - SharedClass -  - (579b284246860) 
 - Get Branding Image : SELECT `b`.`id`, `documentid`, `docformat`
FROM `branding` `b`
INNER JOIN `brandtype` `bt` ON `bt`.`id` = `b`.`brandtypeid`
INNER JOIN `brand_location` `bl` ON `bl`.`id`=`b`.`brandlocationid`
WHERE `b`.`customerid` = '7781'
AND `b`.`isdeleted` =0
AND `bt`.`code` = 'JRQ'
AND `bl`.`code` = 'H'

2016-07-29 11:56:18 - jobtracker - SharedClass -  - (579b284246860) 
 - Get Branding Image : SELECT `documentid`, `docformat`
FROM `branding` `b`
INNER JOIN `brandtype` `bt` ON `bt`.`id` = `b`.`brandtypeid`
INNER JOIN `brand_location` `bl` ON `bl`.`id`=`b`.`brandlocationid`
WHERE `b`.`isdeleted` =0
AND `bt`.`code` = 'F'
AND `bl`.`code` = '7781'

2016-07-29 11:56:18 - jobtracker - GeneratePDFChain -  - (579b2842467b9) 
 - Create Job Request

2016-07-29 11:56:18 - jobtracker - InsertDocumentChain -  - (579b2842c6b9c) 
 - Insert Document Query : INSERT INTO `document` (`documentdesc`, `doctype`, `docformat`, `dateadded`, `userid`, `xrefid`, `xreftable`, `docname`, `pdate`, `origin`, `docfolder`, `filesize`) VALUES ('Job Request 279515', 'Client Order', 'pdf', '2016-07-29 11:56:18', 'samplemaster@sample.com.au', '417136', 'jobs', 'Jrq_279515.pdf', '2016-07-29 11:56:18', 'Client Portal', 'Client Order', 200)

2016-07-29 11:56:18 - jobtracker - JobNoteChain -  - (579b2842d5f24) 
 - Insert Job Note Query : INSERT INTO `jobnote` (`jobid`, `pdate`, `date`, `notes`, `ntype`, `notetype`, `userid`) VALUES ('417136', '2016-07-29 11:56:18', '2016-07-29', 'Waiting Client approval Job Allocated to Internal in portal by samplemaster@sample.com.au on 2016-07-29 11:56:18', 'portal', 'portal', 'samplemaster@sample.com.au')

2016-07-29 11:56:19 - jobtracker - AdminClass -  - (579b2843759d3) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadwaitingapprovaljobs'
AND `isactive` = 1

2016-07-29 11:56:19 - jobtracker - CustomerClass -  - (579b284374cdd) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:56:19 - jobtracker - JobClass -  - (579b284387e1e) 
 - Get Waiting Approval Jobs Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
INNER JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND (`j`.`quoterqd` is null or `j`.`quoterqd` != 'on')
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` IN('portal_await_approval', 'Waiting_Client_Instructions')
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 11:56:19 - jobtracker - AdminClass -  - (579b2843a4466) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadwaitingdcfmreviewjobs'
AND `isactive` = 1

2016-07-29 11:56:19 - jobtracker - CustomerClass -  - (579b2843a37f0) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:56:19 - jobtracker - JobClass -  - (579b2843b6af9) 
 - Get Waiting DCFM Review Jobs Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `j`.`jobstage` IN('portal', 'next_allocate', 'info_pending', 'approved_from_portal')
AND `j`.`leaddate` > '2010-07-01'
AND IFNULL(variationstage,'') != 'variation_request_sent'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 11:57:27 - jobtracker - AdminClass -  - (579b288745cdf) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadwaitingdcfmreviewjobs'
AND `isactive` = 1

2016-07-29 11:57:27 - jobtracker - CustomerClass -  - (579b288744d7d) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:57:27 - jobtracker - JobClass -  - (579b28875a4da) 
 - Get Waiting DCFM Review Jobs Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `j`.`jobstage` IN('portal', 'next_allocate', 'info_pending', 'approved_from_portal')
AND `j`.`leaddate` > '2010-07-01'
AND IFNULL(variationstage,'') != 'variation_request_sent'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 11:57:38 - jobtracker - AdminClass -  - (579b28926dcda) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/jobdetail'
AND `isactive` = 1

2016-07-29 11:57:38 - jobtracker - CustomerClass -  - (579b28926cdbe) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:57:38 - jobtracker - DocumentClass -  - (579b289282abb) 
 - Get Job Images Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417131'
AND `d`.`xreftable` = 'jobs'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.docname NOT LIKE '%cost%' AND d.docname NOT LIKE '%tender%' AND d.docname NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder LIKE '%image%' OR d.docfolder LIKE '%photo%'))

2016-07-29 11:57:38 - jobtracker - JobClass -  - (579b2892834c2) 
 - Get Purchase order Data Query : SELECT po.*, s.companyname as suppliername, s.phone as supplierphone, s.email as supplieremail, c.companyname, c.email as companyemail, j.labelid, j.siteline1, j.siteline2, j.siteline3, j.sitesuburb, j.sitestate, j.sitepostcode, j.jobdescription, j.sitecontact, j.sitephone, j.siteemail, j.customerid, j.quoterqd, a.latitude_decimal, a.longitude_decimal, GROUP_CONCAT(TRIM(CONCAT(con.firstname,' ',con.surname))) AS primarycontact
FROM `purchaseorders` `po`
INNER JOIN `jobs` `j` ON `po`.`jobid` =`j`.`jobid`
INNER JOIN `customer` `c` ON `j`.`customerid` =`c`.`customerid`
LEFT JOIN `addresslabel` `a` ON `a`.`labelid` =`j`.`labelid`
LEFT JOIN `customer` `s` ON `po`.`supplierid` =`s`.`customerid`
LEFT JOIN `contact` `con` ON `s`.`customerid`=`con`.`customerid` and `con`.`primarycontact`=1
WHERE `po`.`jobid` = '417131'
GROUP BY `s`.`customerid`

2016-07-29 11:57:40 - jobtracker - AdminClass -  - (579b28945978d) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobnotes'
AND `isactive` = 1

2016-07-29 11:57:40 - jobtracker - CustomerClass -  - (579b2894584c7) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:57:40 - jobtracker - JobClass -  - (579b2894701bc) 
 - Get Job Notes Data Query : SELECT `jobnoteid`, `notes`, `notetype`, `date`
FROM `jobnote`
WHERE `jobid` = '417131'
AND `notetype` IN('client', 'completion', 'internal.extend', 'portal')
ORDER BY `jobnoteid` DESC
 LIMIT 25

2016-07-29 11:57:40 - jobtracker - AdminClass -  - (579b2894885d7) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobtasks'
AND `isactive` = 1

2016-07-29 11:57:40 - jobtracker - CustomerClass -  - (579b289486a20) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:57:40 - jobtracker - JobClass -  - (579b2894a1be5) 
 - Get Job Tasks Data Query : SELECT DISTINCT `t`.*
FROM `task` `t`
INNER JOIN `contact` `c` ON `c`.`email` = `t`.`allocatedto`
INNER JOIN `jobs` `j` ON `t`.`jobid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `t`.`jobid` = '417131'
AND `t`.`customerid` = '7781'
ORDER BY `tdate` DESC
 LIMIT 25

2016-07-29 11:57:40 - jobtracker - AdminClass -  - (579b2894ca5e2) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobreports'
AND `isactive` = 1

2016-07-29 11:57:40 - jobtracker - CustomerClass -  - (579b2894c9889) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:57:40 - jobtracker - DocumentClass -  - (579b2894dcf4e) 
 - Get Job Reports Data Query : SELECT *
FROM `document`
WHERE `xrefid` = '417131'
AND `xreftable` = 'jobs'
AND `docfolder` = 'Reports'
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 11:57:41 - jobtracker - AdminClass -  - (579b2894f28cd) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobdocumentsbyjobid'
AND `isactive` = 1

2016-07-29 11:57:41 - jobtracker - CustomerClass -  - (579b2894f1b02) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:57:41 - jobtracker - DocumentClass -  - (579b28950e59e) 
 - Get Job Documents Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417131'
AND `d`.`xreftable` = 'jobs'
AND `d`.`doctype` != 'images'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.doctype NOT LIKE '%cost%' AND d.doctype NOT LIKE '%tender%' AND d.doctype NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder NOT LIKE '%cost%' AND d.docfolder NOT LIKE '%tender%' AND d.docfolder NOT LIKE '%quot%' AND d.docfolder NOT LIKE '%supplier invoice%' AND NOT (d.docfolder LIKE '%report%' AND d.docformat LIKE 'pdf') AND d.docfolder NOT LIKE '%image%' AND d.docfolder NOT LIKE '%photo%'))
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 11:57:43 - jobtracker - AdminClass -  - (579b28971fc29) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/jobdetail'
AND `isactive` = 1

2016-07-29 11:57:43 - jobtracker - CustomerClass -  - (579b28971ea64) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:57:43 - jobtracker - DocumentClass -  - (579b289731cff) 
 - Get Job Images Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417136'
AND `d`.`xreftable` = 'jobs'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.docname NOT LIKE '%cost%' AND d.docname NOT LIKE '%tender%' AND d.docname NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder LIKE '%image%' OR d.docfolder LIKE '%photo%'))

2016-07-29 11:57:43 - jobtracker - JobClass -  - (579b289732638) 
 - Get Purchase order Data Query : SELECT po.*, s.companyname as suppliername, s.phone as supplierphone, s.email as supplieremail, c.companyname, c.email as companyemail, j.labelid, j.siteline1, j.siteline2, j.siteline3, j.sitesuburb, j.sitestate, j.sitepostcode, j.jobdescription, j.sitecontact, j.sitephone, j.siteemail, j.customerid, j.quoterqd, a.latitude_decimal, a.longitude_decimal, GROUP_CONCAT(TRIM(CONCAT(con.firstname,' ',con.surname))) AS primarycontact
FROM `purchaseorders` `po`
INNER JOIN `jobs` `j` ON `po`.`jobid` =`j`.`jobid`
INNER JOIN `customer` `c` ON `j`.`customerid` =`c`.`customerid`
LEFT JOIN `addresslabel` `a` ON `a`.`labelid` =`j`.`labelid`
LEFT JOIN `customer` `s` ON `po`.`supplierid` =`s`.`customerid`
LEFT JOIN `contact` `con` ON `s`.`customerid`=`con`.`customerid` and `con`.`primarycontact`=1
WHERE `po`.`jobid` = '417136'
GROUP BY `s`.`customerid`

2016-07-29 11:57:45 - jobtracker - AdminClass -  - (579b2899886f5) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobdocumentsbyjobid'
AND `isactive` = 1

2016-07-29 11:57:45 - jobtracker - CustomerClass -  - (579b2899879f3) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:57:45 - jobtracker - DocumentClass -  - (579b289998b9c) 
 - Get Job Documents Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417136'
AND `d`.`xreftable` = 'jobs'
AND `d`.`doctype` != 'images'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.doctype NOT LIKE '%cost%' AND d.doctype NOT LIKE '%tender%' AND d.doctype NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder NOT LIKE '%cost%' AND d.docfolder NOT LIKE '%tender%' AND d.docfolder NOT LIKE '%quot%' AND d.docfolder NOT LIKE '%supplier invoice%' AND NOT (d.docfolder LIKE '%report%' AND d.docformat LIKE 'pdf') AND d.docfolder NOT LIKE '%image%' AND d.docfolder NOT LIKE '%photo%'))
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 11:57:45 - jobtracker - AdminClass -  - (579b2899b0024) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobreports'
AND `isactive` = 1

2016-07-29 11:57:45 - jobtracker - CustomerClass -  - (579b2899af170) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:57:45 - jobtracker - DocumentClass -  - (579b2899c374d) 
 - Get Job Reports Data Query : SELECT *
FROM `document`
WHERE `xrefid` = '417136'
AND `xreftable` = 'jobs'
AND `docfolder` = 'Reports'
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 11:57:45 - jobtracker - AdminClass -  - (579b2899de956) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobnotes'
AND `isactive` = 1

2016-07-29 11:57:45 - jobtracker - CustomerClass -  - (579b2899dd443) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:57:46 - jobtracker - JobClass -  - (579b289a0277b) 
 - Get Job Notes Data Query : SELECT `jobnoteid`, `notes`, `notetype`, `date`
FROM `jobnote`
WHERE `jobid` = '417136'
AND `notetype` IN('client', 'completion', 'internal.extend', 'portal')
ORDER BY `jobnoteid` DESC
 LIMIT 25

2016-07-29 11:57:46 - jobtracker - AdminClass -  - (579b289a1a679) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobtasks'
AND `isactive` = 1

2016-07-29 11:57:46 - jobtracker - CustomerClass -  - (579b289a1945b) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:57:46 - jobtracker - JobClass -  - (579b289a3503e) 
 - Get Job Tasks Data Query : SELECT DISTINCT `t`.*
FROM `task` `t`
INNER JOIN `contact` `c` ON `c`.`email` = `t`.`allocatedto`
INNER JOIN `jobs` `j` ON `t`.`jobid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `t`.`jobid` = '417136'
AND `t`.`customerid` = '7781'
ORDER BY `tdate` DESC
 LIMIT 25

2016-07-29 11:58:53 - jobtracker - AdminClass -  - (579b28dde554f) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'logjobquote'
AND `isactive` = 1

2016-07-29 11:58:53 - jobtracker - CustomerClass -  - (579b28dde49d0) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:58:54 - jobtracker - CustomerClass -  - (579b28dde49d0) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:58:54 - jobtracker - CustomerClass -  - (579b28dde49d0) 
 - Get contact Data Query : SELECT c.*, CONCAT(c.firstname,' ',c.surname) as contactname
FROM `contact` `c`
WHERE `c`.`contactid` =0

2016-07-29 11:59:01 - jobtracker - AdminClass -  - (579b28e520183) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'logjobquote/loadSiteSearch'
AND `isactive` = 1

2016-07-29 11:59:01 - jobtracker - CustomerClass -  - (579b28e51f55f) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:10 - jobtracker - AdminClass -  - (579b28eee63f3) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'logjobquote'
AND `isactive` = 1

2016-07-29 11:59:10 - jobtracker - CustomerClass -  - (579b28eee579d) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:11 - jobtracker - CustomerClass -  - (579b28eee579d) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:11 - jobtracker - CustomerClass -  - (579b28eee579d) 
 - Get contact Data Query : SELECT c.*, CONCAT(c.firstname,' ',c.surname) as contactname
FROM `contact` `c`
WHERE `c`.`contactid` =0

2016-07-29 11:59:11 - jobtracker - CustomerClass -  - (579b28eee579d) 
 - Get address Data Query : SELECT `a`.*, `c`.`phone`, `c`.`mobile`, `c`.`email`
FROM `addresslabel` `a`
LEFT JOIN `contact` `c` ON `c`.`contactid` = `a`.`contactid`
WHERE `a`.`labelid` = '71259'

2016-07-29 11:59:11 - jobtracker - InsertJobChain -  - (579b28ef13a57) 
 - Insert job Query : INSERT INTO `jobs` (`custordref`, `custordref2`, `custordref3`, `customerid`, `labelid`, `siteline1`, `siteline2`, `sitesuburb`, `sitestate`, `sitepostcode`, `territory`, `sitecontactid`, `sitecontact`, `sitephone`, `siteemail`, `contactid`, `sitefm`, `sitefmph`, `sitefmemail`, `notexceed`, `priority`, `jobdescription`, `quoterqd`, `responsedatelock`, `custordrefLabel`, `custordrefLabel2`, `custordrefLabel3`, `leaddate`, `duedate`, `duetime`, `responseduedate`, `responseduetime`, `jrespintdate`, `internalduedate`, `jdaysbuffer`, `jrespbuffer`, `jobstage`, `nophoto_check`, `userid`, `origin`, `parentid`, `dcfmbufferv`, `internalqlimit`) VALUES ('', 'swrq_', '', '7781', '71259', 'Sample Client', '216 View Street', 'ANNANDALE', 'NT', '2038', '', '32554', 'John Doe', '', 'samplesite@sample.com.au', '26564', 'Sample FM', '04 0099 9999', 'samplefm@sample.com.au', '1500', 'P3 - 3 days', 'tesss\n \nAll contractors must notify the DCFM Helpdesk on 02-9460-7676 on arriving at site and on completion of works.', '', 'false', 'PO Number', 'PO', 'WO', '2016-07-29', '2016-08-03', '15:59:11', '2016-08-03', '15:59:11', '2016-07-29', '2016-07-29', '2', '4', 'portal_await_approval', '0', 'samplemaster@sample.com.au', 'CP', 0, 250, 1250)

2016-07-29 11:59:11 - jobtracker - InsertJobChain -  - (579b28ef13a57) 
 - Update auto_create_custordref_in_client_portal Query : UPDATE `jobs` SET `custordref` = 417137
WHERE `jobid` = 417137

2016-07-29 11:59:11 - jobtracker - CustomerClass -  - (579b28eee579d) 
 - Update Address  : 
 - Params

 - updateDataParams
		workorder_increment_val => 3

		labelid => 71259
		logged_contactid => 26564

2016-07-29 11:59:11 - jobtracker - CustomerClass -  - (579b28eee579d) 
 - Get address Data Query : SELECT `a`.*, `c`.`phone`, `c`.`mobile`, `c`.`email`
FROM `addresslabel` `a`
LEFT JOIN `contact` `c` ON `c`.`contactid` = `a`.`contactid`
WHERE `a`.`labelid` = '71259'

2016-07-29 11:59:11 - jobtracker - UpdateAddressChain -  - (579b28ef343f8) 
 - Update Address Query : UPDATE `addresslabel` SET `workorder_increment_val` = 3, `editdate` = '2016-07-29 11:59:11'
WHERE `labelid` = '71259'

2016-07-29 11:59:11 - jobtracker - EditLogChain -  - (579b28ef3de58) 
 - Insert Edit Log Query : INSERT INTO `editlog` (`editdate`, `fieldname`, `newvalue`, `oldvalue`, `recordid`, `tablename`, `userid`) VALUES ('2016-07-29 11:59:11','workorder_increment_val',3,'2','71259','addresslabel','samplemaster@sample.com.au')

2016-07-29 11:59:11 - jobtracker - AdminClass -  - (579b28ef6e6c9) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/jobdetail'
AND `isactive` = 1

2016-07-29 11:59:11 - jobtracker - CustomerClass -  - (579b28ef6d53a) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:11 - jobtracker - DocumentClass -  - (579b28ef82048) 
 - Get Job Images Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417137'
AND `d`.`xreftable` = 'jobs'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.docname NOT LIKE '%cost%' AND d.docname NOT LIKE '%tender%' AND d.docname NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder LIKE '%image%' OR d.docfolder LIKE '%photo%'))

2016-07-29 11:59:11 - jobtracker - JobClass -  - (579b28ef8293e) 
 - Get Purchase order Data Query : SELECT po.*, s.companyname as suppliername, s.phone as supplierphone, s.email as supplieremail, c.companyname, c.email as companyemail, j.labelid, j.siteline1, j.siteline2, j.siteline3, j.sitesuburb, j.sitestate, j.sitepostcode, j.jobdescription, j.sitecontact, j.sitephone, j.siteemail, j.customerid, j.quoterqd, a.latitude_decimal, a.longitude_decimal, GROUP_CONCAT(TRIM(CONCAT(con.firstname,' ',con.surname))) AS primarycontact
FROM `purchaseorders` `po`
INNER JOIN `jobs` `j` ON `po`.`jobid` =`j`.`jobid`
INNER JOIN `customer` `c` ON `j`.`customerid` =`c`.`customerid`
LEFT JOIN `addresslabel` `a` ON `a`.`labelid` =`j`.`labelid`
LEFT JOIN `customer` `s` ON `po`.`supplierid` =`s`.`customerid`
LEFT JOIN `contact` `con` ON `s`.`customerid`=`con`.`customerid` and `con`.`primarycontact`=1
WHERE `po`.`jobid` = '417137'
GROUP BY `s`.`customerid`

2016-07-29 11:59:13 - jobtracker - AdminClass -  - (579b28f1b5f47) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobreports'
AND `isactive` = 1

2016-07-29 11:59:13 - jobtracker - CustomerClass -  - (579b28f1b530f) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:13 - jobtracker - DocumentClass -  - (579b28f1c8296) 
 - Get Job Reports Data Query : SELECT *
FROM `document`
WHERE `xrefid` = '417137'
AND `xreftable` = 'jobs'
AND `docfolder` = 'Reports'
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 11:59:13 - jobtracker - AdminClass -  - (579b28f1deedb) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobnotes'
AND `isactive` = 1

2016-07-29 11:59:13 - jobtracker - CustomerClass -  - (579b28f1de14d) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:14 - jobtracker - JobClass -  - (579b28f205d6a) 
 - Get Job Notes Data Query : SELECT `jobnoteid`, `notes`, `notetype`, `date`
FROM `jobnote`
WHERE `jobid` = '417137'
AND `notetype` IN('client', 'completion', 'internal.extend', 'portal')
ORDER BY `jobnoteid` DESC
 LIMIT 25

2016-07-29 11:59:14 - jobtracker - AdminClass -  - (579b28f21fdb6) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobtasks'
AND `isactive` = 1

2016-07-29 11:59:14 - jobtracker - CustomerClass -  - (579b28f21e2ae) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:14 - jobtracker - JobClass -  - (579b28f23862d) 
 - Get Job Tasks Data Query : SELECT DISTINCT `t`.*
FROM `task` `t`
INNER JOIN `contact` `c` ON `c`.`email` = `t`.`allocatedto`
INNER JOIN `jobs` `j` ON `t`.`jobid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `t`.`jobid` = '417137'
AND `t`.`customerid` = '7781'
ORDER BY `tdate` DESC
 LIMIT 25

2016-07-29 11:59:14 - jobtracker - AdminClass -  - (579b28f256663) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobdocumentsbyjobid'
AND `isactive` = 1

2016-07-29 11:59:14 - jobtracker - CustomerClass -  - (579b28f255af9) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:14 - jobtracker - DocumentClass -  - (579b28f265ca7) 
 - Get Job Documents Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417137'
AND `d`.`xreftable` = 'jobs'
AND `d`.`doctype` != 'images'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.doctype NOT LIKE '%cost%' AND d.doctype NOT LIKE '%tender%' AND d.doctype NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder NOT LIKE '%cost%' AND d.docfolder NOT LIKE '%tender%' AND d.docfolder NOT LIKE '%quot%' AND d.docfolder NOT LIKE '%supplier invoice%' AND NOT (d.docfolder LIKE '%report%' AND d.docformat LIKE 'pdf') AND d.docfolder NOT LIKE '%image%' AND d.docfolder NOT LIKE '%photo%'))
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 11:59:18 - jobtracker - AdminClass -  - (579b28f625d81) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs'
AND `isactive` = 1

2016-07-29 11:59:18 - jobtracker - CustomerClass -  - (579b28f6251c3) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:18 - jobtracker - JobClass -  - (579b28f6395ea) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND (`j`.`quoterqd` is null or `j`.`quoterqd` != 'on')
AND `j`.`jobstage` IN('portal_await_approval', 'Waiting_Client_Instructions')
GROUP BY `j`.`sitesuburb`

2016-07-29 11:59:18 - jobtracker - JobClass -  - (579b28f6395ea) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `j`.`jobstage` IN('portal', 'next_allocate', 'info_pending', 'approved_from_portal')
AND IFNULL(variationstage,'') != 'variation_request_sent'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
GROUP BY `j`.`sitesuburb`

2016-07-29 11:59:18 - jobtracker - JobClass -  - (579b28f6395ea) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `js`.`portaldesc` = 'Job In Progress'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
GROUP BY `j`.`sitesuburb`

2016-07-29 11:59:18 - jobtracker - JobClass -  - (579b28f6395ea) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'declined')
AND `variationstage` = 'variation_request_sent'
GROUP BY `j`.`sitesuburb`

2016-07-29 11:59:18 - jobtracker - JobClass -  - (579b28f6395ea) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `js`.`portaldesc` = 'Job Completed'
GROUP BY `j`.`sitesuburb`

2016-07-29 11:59:18 - jobtracker - JobClass -  - (579b28f6395ea) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` = 'hold'
GROUP BY `j`.`sitesuburb`

2016-07-29 11:59:18 - jobtracker - JobClass -  - (579b28f6395ea) 
 - Get Jobs Count With Suburb Data Query : SELECT po.supplierid, cus.companyname, COUNT(po.jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `purchaseorders` `po` ON `j`.`jobid` = `po`.`jobid`
LEFT JOIN `customer` `cus` ON `po`.`supplierid` = `cus`.`customerid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `js`.`portaldesc` = 'Job In Progress'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
AND `po`.`supplierid` != '0'
GROUP BY `po`.`supplierid`

2016-07-29 11:59:18 - jobtracker - JobClass -  - (579b28f6395ea) 
 - Get Jobs Count With Suburb Data Query : SELECT po.supplierid, cus.companyname, COUNT(po.jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `purchaseorders` `po` ON `j`.`jobid` = `po`.`jobid`
LEFT JOIN `customer` `cus` ON `po`.`supplierid` = `cus`.`customerid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `js`.`portaldesc` = 'Job Completed'
AND `po`.`supplierid` != '0'
GROUP BY `po`.`supplierid`

2016-07-29 11:59:18 - jobtracker - JobClass -  - (579b28f6395ea) 
 - Get Jobs Count With sitefm Data Query : SELECT j.sitefm, a.contactid, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'declined')
AND `variationstage` = 'variation_request_sent'
GROUP BY `j`.`sitefm`

2016-07-29 11:59:22 - jobtracker - AdminClass -  - (579b28fa77c5d) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadwaitingapprovaljobs'
AND `isactive` = 1

2016-07-29 11:59:22 - jobtracker - CustomerClass -  - (579b28fa77029) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:22 - jobtracker - JobClass -  - (579b28fa8a042) 
 - Get Waiting Approval Jobs Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
INNER JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND (`j`.`quoterqd` is null or `j`.`quoterqd` != 'on')
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` IN('portal_await_approval', 'Waiting_Client_Instructions')
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 11:59:33 - jobtracker - AdminClass -  - (579b290557e18) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/updatejoballocation'
AND `isactive` = 1

2016-07-29 11:59:33 - jobtracker - CustomerClass -  - (579b290556e0c) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:33 - jobtracker - CustomerClass -  - (579b290569ea6) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '11012'
GROUP BY `s`.`customerid`

2016-07-29 11:59:33 - jobtracker - UpdateJobChain -  - (579b29059b151) 
 - Update jobs Query : UPDATE `jobs` SET `jobstage` = 'client_allocated'
WHERE `jobid` = '417137'

2016-07-29 11:59:33 - jobtracker - InsertPurchaseOrderChain -  - (579b2905a7ac6) 
 - Create PO Query : INSERT INTO `purchaseorders` (`supplierid`, `statusid`, `podate`, `attendbydate`, `attendbytime`, `completebydate`, `completebytime`, `jobid`, `userid`, `polimit`, `ownercustid`) VALUES ('11012', 10, '2016-07-29 11:59:33', '2016-07-29', NULL, '2016-08-03', '15:59:11', '417137', 'samplemaster@sample.com.au', '1500.00', '7781')

2016-07-29 11:59:33 - jobtracker - CreateJobDocumentRequiredChain -  - (579b2905b0065) 
 - Insert job_document_required Query : INSERT INTO `job_document_required` (`create_date`, `documentid`, `dont_send`, `from_category_rule`, `jobid`, `poref`, `required_complete`, `required_start`) VALUES ('2016-07-29 11:59:33','39688','0','1130','417137',279516,'1','0'), ('2016-07-29 11:59:33','105253','0','1130','417137',279516,'1','0'), ('2016-07-29 11:59:33','105319','0','1130','417137',279516,'0','0'), ('2016-07-29 11:59:33','58120','0','1130','417137',279516,'0','0'), ('2016-07-29 11:59:33','91554','0','1130','417137',279516,'0','0'), ('2016-07-29 11:59:33','123918','0','1130','417137',279516,'0','0'), ('2016-07-29 11:59:33','39698','0','1130','417137',279516,'0','0'), ('2016-07-29 11:59:33','124942','0','1130','417137',279516,'0','0'), ('2016-07-29 11:59:33','175671','0','1130','417137',279516,'1','0')

2016-07-29 11:59:33 - jobtracker - SharedClass -  - (579b2905b7e67) 
 - Get Branding Image : SELECT `b`.`id`, `documentid`, `docformat`
FROM `branding` `b`
INNER JOIN `brandtype` `bt` ON `bt`.`id` = `b`.`brandtypeid`
INNER JOIN `brand_location` `bl` ON `bl`.`id`=`b`.`brandlocationid`
WHERE `b`.`customerid` = '7781'
AND `b`.`isdeleted` =0
AND `bt`.`code` = 'JRQ'
AND `bl`.`code` = 'H'

2016-07-29 11:59:33 - jobtracker - SharedClass -  - (579b2905b7e67) 
 - Get Branding Image : SELECT `documentid`, `docformat`
FROM `branding` `b`
INNER JOIN `brandtype` `bt` ON `bt`.`id` = `b`.`brandtypeid`
INNER JOIN `brand_location` `bl` ON `bl`.`id`=`b`.`brandlocationid`
WHERE `b`.`isdeleted` =0
AND `bt`.`code` = 'F'
AND `bl`.`code` = '7781'

2016-07-29 11:59:34 - jobtracker - GeneratePDFChain -  - (579b2905b7dd3) 
 - Create Job Request

2016-07-29 11:59:34 - jobtracker - InsertDocumentChain -  - (579b290655fb8) 
 - Insert Document Query : INSERT INTO `document` (`documentdesc`, `doctype`, `docformat`, `dateadded`, `userid`, `xrefid`, `xreftable`, `docname`, `pdate`, `origin`, `docfolder`, `filesize`) VALUES ('Job Request 279516', 'Client Order', 'pdf', '2016-07-29 11:59:33', 'samplemaster@sample.com.au', '417137', 'jobs', 'Jrq_279516.pdf', '2016-07-29 11:59:33', 'Client Portal', 'Client Order', 200)

2016-07-29 11:59:34 - jobtracker - JobNoteChain -  - (579b290663e53) 
 - Insert Job Note Query : INSERT INTO `jobnote` (`jobid`, `pdate`, `date`, `notes`, `ntype`, `notetype`, `userid`) VALUES ('417137', '2016-07-29 11:59:33', '2016-07-29', 'Waiting Client approval Job Allocated to Internal in portal by samplemaster@sample.com.au on 2016-07-29 11:59:33', 'portal', 'portal', 'samplemaster@sample.com.au')

2016-07-29 11:59:35 - jobtracker - AdminClass -  - (579b29070ed34) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadwaitingapprovaljobs'
AND `isactive` = 1

2016-07-29 11:59:35 - jobtracker - CustomerClass -  - (579b29070db45) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:35 - jobtracker - JobClass -  - (579b290723787) 
 - Get Waiting Approval Jobs Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
INNER JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND (`j`.`quoterqd` is null or `j`.`quoterqd` != 'on')
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` IN('portal_await_approval', 'Waiting_Client_Instructions')
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 11:59:35 - jobtracker - AdminClass -  - (579b29073f14d) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadwaitingdcfmreviewjobs'
AND `isactive` = 1

2016-07-29 11:59:35 - jobtracker - CustomerClass -  - (579b29073e0f4) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 11:59:35 - jobtracker - JobClass -  - (579b2907536cc) 
 - Get Waiting DCFM Review Jobs Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `j`.`jobstage` IN('portal', 'next_allocate', 'info_pending', 'approved_from_portal')
AND `j`.`leaddate` > '2010-07-01'
AND IFNULL(variationstage,'') != 'variation_request_sent'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 12:03:13 - jobtracker - AdminClass -  - (579b29e1c5f19) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'logjobquote'
AND `isactive` = 1

2016-07-29 12:03:13 - jobtracker - CustomerClass -  - (579b29e1c53b5) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:03:13 - jobtracker - CustomerClass -  - (579b29e1c53b5) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:03:13 - jobtracker - CustomerClass -  - (579b29e1c53b5) 
 - Get contact Data Query : SELECT c.*, CONCAT(c.firstname,' ',c.surname) as contactname
FROM `contact` `c`
WHERE `c`.`contactid` =0

2016-07-29 12:03:19 - jobtracker - AdminClass -  - (579b29e7e66ea) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'logjobquote/loadSiteSearch'
AND `isactive` = 1

2016-07-29 12:03:19 - jobtracker - CustomerClass -  - (579b29e7e5ac6) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:03:30 - jobtracker - AdminClass -  - (579b29f276a3a) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'logjobquote'
AND `isactive` = 1

2016-07-29 12:03:30 - jobtracker - CustomerClass -  - (579b29f275e95) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:03:30 - jobtracker - CustomerClass -  - (579b29f275e95) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:03:30 - jobtracker - CustomerClass -  - (579b29f275e95) 
 - Get contact Data Query : SELECT c.*, CONCAT(c.firstname,' ',c.surname) as contactname
FROM `contact` `c`
WHERE `c`.`contactid` =0

2016-07-29 12:03:30 - jobtracker - CustomerClass -  - (579b29f275e95) 
 - Get address Data Query : SELECT `a`.*, `c`.`phone`, `c`.`mobile`, `c`.`email`
FROM `addresslabel` `a`
LEFT JOIN `contact` `c` ON `c`.`contactid` = `a`.`contactid`
WHERE `a`.`labelid` = '48873'

2016-07-29 12:03:30 - jobtracker - InsertJobChain -  - (579b29f298866) 
 - Insert job Query : INSERT INTO `jobs` (`custordref`, `custordref2`, `custordref3`, `customerid`, `labelid`, `siteline1`, `siteline2`, `sitesuburb`, `sitestate`, `sitepostcode`, `territory`, `sitecontactid`, `sitecontact`, `sitephone`, `siteemail`, `contactid`, `sitefm`, `sitefmph`, `sitefmemail`, `notexceed`, `priority`, `jobdescription`, `quoterqd`, `responsedatelock`, `custordrefLabel`, `custordrefLabel2`, `custordrefLabel3`, `leaddate`, `duedate`, `duetime`, `responseduedate`, `responseduetime`, `jrespintdate`, `internalduedate`, `jdaysbuffer`, `jrespbuffer`, `jobstage`, `nophoto_check`, `userid`, `origin`, `parentid`, `dcfmbufferv`, `internalqlimit`) VALUES ('', 'Site D_', '', '7781', '48873', 'Sample Client', '216 View Street', 'ANNANDALE', 'NT', '4814', '', '32554', 'John Doe', '04 0099 9777', 'samplesite@sample.com.au', '26564', 'John Doe', '04 0088 8888', 'ankitchen@gmail.com', '1500', 'P3 - 3 days', 'Test\n \nAll contractors must notify the DCFM Helpdesk on 02-9460-7676 on arriving at site and on completion of works.', '', 'false', 'PO Number', 'PO', 'WO', '2016-07-29', '2016-08-03', '16:03:30', '2016-08-03', '16:03:30', '2016-07-29', '2016-07-29', '2', '4', 'portal_await_approval', '0', 'samplemaster@sample.com.au', 'CP', 0, 250, 1250)

2016-07-29 12:03:30 - jobtracker - InsertJobChain -  - (579b29f298866) 
 - Update auto_create_custordref_in_client_portal Query : UPDATE `jobs` SET `custordref` = 417138
WHERE `jobid` = 417138

2016-07-29 12:03:30 - jobtracker - CustomerClass -  - (579b29f275e95) 
 - Update Address  : 
 - Params

 - updateDataParams
		workorder_increment_val => 4

		labelid => 48873
		logged_contactid => 26564

2016-07-29 12:03:30 - jobtracker - CustomerClass -  - (579b29f275e95) 
 - Get address Data Query : SELECT `a`.*, `c`.`phone`, `c`.`mobile`, `c`.`email`
FROM `addresslabel` `a`
LEFT JOIN `contact` `c` ON `c`.`contactid` = `a`.`contactid`
WHERE `a`.`labelid` = '48873'

2016-07-29 12:03:30 - jobtracker - UpdateAddressChain -  - (579b29f2bedb6) 
 - Update Address Query : UPDATE `addresslabel` SET `workorder_increment_val` = 4, `editdate` = '2016-07-29 12:03:30'
WHERE `labelid` = '48873'

2016-07-29 12:03:30 - jobtracker - EditLogChain -  - (579b29f2c5446) 
 - Insert Edit Log Query : INSERT INTO `editlog` (`editdate`, `fieldname`, `newvalue`, `oldvalue`, `recordid`, `tablename`, `userid`) VALUES ('2016-07-29 12:03:30','workorder_increment_val',4,'3','48873','addresslabel','samplemaster@sample.com.au')

2016-07-29 12:03:31 - jobtracker - AdminClass -  - (579b29f2eb28f) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/jobdetail'
AND `isactive` = 1

2016-07-29 12:03:31 - jobtracker - CustomerClass -  - (579b29f2ea65d) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:03:31 - jobtracker - DocumentClass -  - (579b29f30a6dd) 
 - Get Job Images Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417138'
AND `d`.`xreftable` = 'jobs'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.docname NOT LIKE '%cost%' AND d.docname NOT LIKE '%tender%' AND d.docname NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder LIKE '%image%' OR d.docfolder LIKE '%photo%'))

2016-07-29 12:03:31 - jobtracker - JobClass -  - (579b29f30afd4) 
 - Get Purchase order Data Query : SELECT po.*, s.companyname as suppliername, s.phone as supplierphone, s.email as supplieremail, c.companyname, c.email as companyemail, j.labelid, j.siteline1, j.siteline2, j.siteline3, j.sitesuburb, j.sitestate, j.sitepostcode, j.jobdescription, j.sitecontact, j.sitephone, j.siteemail, j.customerid, j.quoterqd, a.latitude_decimal, a.longitude_decimal, GROUP_CONCAT(TRIM(CONCAT(con.firstname,' ',con.surname))) AS primarycontact
FROM `purchaseorders` `po`
INNER JOIN `jobs` `j` ON `po`.`jobid` =`j`.`jobid`
INNER JOIN `customer` `c` ON `j`.`customerid` =`c`.`customerid`
LEFT JOIN `addresslabel` `a` ON `a`.`labelid` =`j`.`labelid`
LEFT JOIN `customer` `s` ON `po`.`supplierid` =`s`.`customerid`
LEFT JOIN `contact` `con` ON `s`.`customerid`=`con`.`customerid` and `con`.`primarycontact`=1
WHERE `po`.`jobid` = '417138'
GROUP BY `s`.`customerid`

2016-07-29 12:03:31 - jobtracker - AdminClass -  - (579b29f3b6cdf) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobnotes'
AND `isactive` = 1

2016-07-29 12:03:31 - jobtracker - CustomerClass -  - (579b29f3b5a46) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:03:31 - jobtracker - JobClass -  - (579b29f3cb954) 
 - Get Job Notes Data Query : SELECT `jobnoteid`, `notes`, `notetype`, `date`
FROM `jobnote`
WHERE `jobid` = '417138'
AND `notetype` IN('client', 'completion', 'internal.extend', 'portal')
ORDER BY `jobnoteid` DESC
 LIMIT 25

2016-07-29 12:03:31 - jobtracker - AdminClass -  - (579b29f3e193c) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobtasks'
AND `isactive` = 1

2016-07-29 12:03:31 - jobtracker - CustomerClass -  - (579b29f3e0802) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:03:32 - jobtracker - JobClass -  - (579b29f400ce1) 
 - Get Job Tasks Data Query : SELECT DISTINCT `t`.*
FROM `task` `t`
INNER JOIN `contact` `c` ON `c`.`email` = `t`.`allocatedto`
INNER JOIN `jobs` `j` ON `t`.`jobid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `t`.`jobid` = '417138'
AND `t`.`customerid` = '7781'
ORDER BY `tdate` DESC
 LIMIT 25

2016-07-29 12:03:32 - jobtracker - AdminClass -  - (579b29f41e132) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobdocumentsbyjobid'
AND `isactive` = 1

2016-07-29 12:03:32 - jobtracker - CustomerClass -  - (579b29f41cdcb) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:03:32 - jobtracker - DocumentClass -  - (579b29f43012c) 
 - Get Job Documents Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417138'
AND `d`.`xreftable` = 'jobs'
AND `d`.`doctype` != 'images'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.doctype NOT LIKE '%cost%' AND d.doctype NOT LIKE '%tender%' AND d.doctype NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder NOT LIKE '%cost%' AND d.docfolder NOT LIKE '%tender%' AND d.docfolder NOT LIKE '%quot%' AND d.docfolder NOT LIKE '%supplier invoice%' AND NOT (d.docfolder LIKE '%report%' AND d.docformat LIKE 'pdf') AND d.docfolder NOT LIKE '%image%' AND d.docfolder NOT LIKE '%photo%'))
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 12:03:32 - jobtracker - AdminClass -  - (579b29f447297) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobreports'
AND `isactive` = 1

2016-07-29 12:03:32 - jobtracker - CustomerClass -  - (579b29f4465ea) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:03:32 - jobtracker - DocumentClass -  - (579b29f4595e7) 
 - Get Job Reports Data Query : SELECT *
FROM `document`
WHERE `xrefid` = '417138'
AND `xreftable` = 'jobs'
AND `docfolder` = 'Reports'
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 12:04:15 - jobtracker - AdminClass -  - (579b2a1f31280) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/jobdetail'
AND `isactive` = 1

2016-07-29 12:04:15 - jobtracker - CustomerClass -  - (579b2a1f305a0) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:04:15 - jobtracker - DocumentClass -  - (579b2a1f436c2) 
 - Get Job Images Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417138'
AND `d`.`xreftable` = 'jobs'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.docname NOT LIKE '%cost%' AND d.docname NOT LIKE '%tender%' AND d.docname NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder LIKE '%image%' OR d.docfolder LIKE '%photo%'))

2016-07-29 12:04:15 - jobtracker - JobClass -  - (579b2a1f43fb1) 
 - Get Purchase order Data Query : SELECT po.*, s.companyname as suppliername, s.phone as supplierphone, s.email as supplieremail, c.companyname, c.email as companyemail, j.labelid, j.siteline1, j.siteline2, j.siteline3, j.sitesuburb, j.sitestate, j.sitepostcode, j.jobdescription, j.sitecontact, j.sitephone, j.siteemail, j.customerid, j.quoterqd, a.latitude_decimal, a.longitude_decimal, GROUP_CONCAT(TRIM(CONCAT(con.firstname,' ',con.surname))) AS primarycontact
FROM `purchaseorders` `po`
INNER JOIN `jobs` `j` ON `po`.`jobid` =`j`.`jobid`
INNER JOIN `customer` `c` ON `j`.`customerid` =`c`.`customerid`
LEFT JOIN `addresslabel` `a` ON `a`.`labelid` =`j`.`labelid`
LEFT JOIN `customer` `s` ON `po`.`supplierid` =`s`.`customerid`
LEFT JOIN `contact` `con` ON `s`.`customerid`=`con`.`customerid` and `con`.`primarycontact`=1
WHERE `po`.`jobid` = '417138'
GROUP BY `s`.`customerid`

2016-07-29 12:04:17 - jobtracker - AdminClass -  - (579b2a21211cc) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobdocumentsbyjobid'
AND `isactive` = 1

2016-07-29 12:04:17 - jobtracker - CustomerClass -  - (579b2a2120201) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:04:17 - jobtracker - DocumentClass -  - (579b2a213725f) 
 - Get Job Documents Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417138'
AND `d`.`xreftable` = 'jobs'
AND `d`.`doctype` != 'images'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.doctype NOT LIKE '%cost%' AND d.doctype NOT LIKE '%tender%' AND d.doctype NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder NOT LIKE '%cost%' AND d.docfolder NOT LIKE '%tender%' AND d.docfolder NOT LIKE '%quot%' AND d.docfolder NOT LIKE '%supplier invoice%' AND NOT (d.docfolder LIKE '%report%' AND d.docformat LIKE 'pdf') AND d.docfolder NOT LIKE '%image%' AND d.docfolder NOT LIKE '%photo%'))
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 12:04:17 - jobtracker - AdminClass -  - (579b2a2151b37) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobtasks'
AND `isactive` = 1

2016-07-29 12:04:17 - jobtracker - CustomerClass -  - (579b2a2150523) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:04:17 - jobtracker - JobClass -  - (579b2a216bc39) 
 - Get Job Tasks Data Query : SELECT DISTINCT `t`.*
FROM `task` `t`
INNER JOIN `contact` `c` ON `c`.`email` = `t`.`allocatedto`
INNER JOIN `jobs` `j` ON `t`.`jobid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `t`.`jobid` = '417138'
AND `t`.`customerid` = '7781'
ORDER BY `tdate` DESC
 LIMIT 25

2016-07-29 12:04:17 - jobtracker - AdminClass -  - (579b2a2184804) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobreports'
AND `isactive` = 1

2016-07-29 12:04:17 - jobtracker - CustomerClass -  - (579b2a2183b30) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:04:17 - jobtracker - DocumentClass -  - (579b2a219715e) 
 - Get Job Reports Data Query : SELECT *
FROM `document`
WHERE `xrefid` = '417138'
AND `xreftable` = 'jobs'
AND `docfolder` = 'Reports'
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 12:04:17 - jobtracker - AdminClass -  - (579b2a21a8842) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobnotes'
AND `isactive` = 1

2016-07-29 12:04:17 - jobtracker - CustomerClass -  - (579b2a21a75f3) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:04:17 - jobtracker - JobClass -  - (579b2a21bd0a5) 
 - Get Job Notes Data Query : SELECT `jobnoteid`, `notes`, `notetype`, `date`
FROM `jobnote`
WHERE `jobid` = '417138'
AND `notetype` IN('client', 'completion', 'internal.extend', 'portal')
ORDER BY `jobnoteid` DESC
 LIMIT 25

2016-07-29 12:04:30 - jobtracker - AdminClass -  - (579b2a2e78f6e) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/updatejoballocation'
AND `isactive` = 1

2016-07-29 12:04:30 - jobtracker - CustomerClass -  - (579b2a2e7831c) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:04:30 - jobtracker - CustomerClass -  - (579b2a2e8891e) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '11012'
GROUP BY `s`.`customerid`

2016-07-29 12:04:30 - jobtracker - UpdateJobChain -  - (579b2a2eafa96) 
 - Update jobs Query : UPDATE `jobs` SET `jobstage` = 'client_allocated'
WHERE `jobid` = '417138'

2016-07-29 12:04:30 - jobtracker - InsertPurchaseOrderChain -  - (579b2a2eb8882) 
 - Create PO Query : INSERT INTO `purchaseorders` (`supplierid`, `statusid`, `podate`, `attendbydate`, `attendbytime`, `completebydate`, `completebytime`, `jobid`, `userid`, `polimit`, `ownercustid`) VALUES ('11012', 10, '2016-07-29 12:04:30', '2016-07-29', NULL, '2016-08-03', '16:03:30', '417138', 'samplemaster@sample.com.au', '1500.00', '7781')

2016-07-29 12:04:30 - jobtracker - CreateJobDocumentRequiredChain -  - (579b2a2ec0e92) 
 - Insert job_document_required Query : INSERT INTO `job_document_required` (`create_date`, `documentid`, `dont_send`, `from_category_rule`, `jobid`, `poref`, `required_complete`, `required_start`) VALUES ('2016-07-29 12:04:30','39688','0','1130','417138',279517,'1','0'), ('2016-07-29 12:04:30','105253','0','1130','417138',279517,'1','0'), ('2016-07-29 12:04:30','105319','0','1130','417138',279517,'0','0'), ('2016-07-29 12:04:30','58120','0','1130','417138',279517,'0','0'), ('2016-07-29 12:04:30','91554','0','1130','417138',279517,'0','0'), ('2016-07-29 12:04:30','123918','0','1130','417138',279517,'0','0'), ('2016-07-29 12:04:30','39698','0','1130','417138',279517,'0','0'), ('2016-07-29 12:04:30','124942','0','1130','417138',279517,'0','0'), ('2016-07-29 12:04:30','175671','0','1130','417138',279517,'1','0')

2016-07-29 12:04:30 - jobtracker - SharedClass -  - (579b2a2ec8dbe) 
 - Get Branding Image : SELECT `b`.`id`, `documentid`, `docformat`
FROM `branding` `b`
INNER JOIN `brandtype` `bt` ON `bt`.`id` = `b`.`brandtypeid`
INNER JOIN `brand_location` `bl` ON `bl`.`id`=`b`.`brandlocationid`
WHERE `b`.`customerid` = '7781'
AND `b`.`isdeleted` =0
AND `bt`.`code` = 'JRQ'
AND `bl`.`code` = 'H'

2016-07-29 12:04:30 - jobtracker - SharedClass -  - (579b2a2ec8dbe) 
 - Get Branding Image : SELECT `documentid`, `docformat`
FROM `branding` `b`
INNER JOIN `brandtype` `bt` ON `bt`.`id` = `b`.`brandtypeid`
INNER JOIN `brand_location` `bl` ON `bl`.`id`=`b`.`brandlocationid`
WHERE `b`.`isdeleted` =0
AND `bt`.`code` = 'F'
AND `bl`.`code` = '7781'

2016-07-29 12:04:31 - jobtracker - GeneratePDFChain -  - (579b2a2ec8d2b) 
 - Create Job Request

2016-07-29 12:04:31 - jobtracker - InsertDocumentChain -  - (579b2a2f46093) 
 - Insert Document Query : INSERT INTO `document` (`documentdesc`, `doctype`, `docformat`, `dateadded`, `userid`, `xrefid`, `xreftable`, `docname`, `pdate`, `origin`, `docfolder`, `filesize`) VALUES ('Job Request 279517', 'Client Order', 'pdf', '2016-07-29 12:04:30', 'samplemaster@sample.com.au', '417138', 'jobs', 'Jrq_279517.pdf', '2016-07-29 12:04:30', 'Client Portal', 'Client Order', 200)

2016-07-29 12:04:31 - jobtracker - JobNoteChain -  - (579b2a2f5390c) 
 - Insert Job Note Query : INSERT INTO `jobnote` (`jobid`, `pdate`, `date`, `notes`, `ntype`, `notetype`, `userid`) VALUES ('417138', '2016-07-29 12:04:30', '2016-07-29', 'Waiting Client approval Job Allocated to Internal in portal by samplemaster@sample.com.au on 2016-07-29 12:04:30', 'portal', 'portal', 'samplemaster@sample.com.au')

2016-07-29 12:04:31 - jobtracker - AdminClass -  - (579b2a2f90d28) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/jobdetail'
AND `isactive` = 1

2016-07-29 12:04:31 - jobtracker - CustomerClass -  - (579b2a2f901c2) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:04:31 - jobtracker - DocumentClass -  - (579b2a2fa2a3d) 
 - Get Job Images Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417138'
AND `d`.`xreftable` = 'jobs'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.docname NOT LIKE '%cost%' AND d.docname NOT LIKE '%tender%' AND d.docname NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder LIKE '%image%' OR d.docfolder LIKE '%photo%'))

2016-07-29 12:04:31 - jobtracker - JobClass -  - (579b2a2fa33ac) 
 - Get Purchase order Data Query : SELECT po.*, s.companyname as suppliername, s.phone as supplierphone, s.email as supplieremail, c.companyname, c.email as companyemail, j.labelid, j.siteline1, j.siteline2, j.siteline3, j.sitesuburb, j.sitestate, j.sitepostcode, j.jobdescription, j.sitecontact, j.sitephone, j.siteemail, j.customerid, j.quoterqd, a.latitude_decimal, a.longitude_decimal, GROUP_CONCAT(TRIM(CONCAT(con.firstname,' ',con.surname))) AS primarycontact
FROM `purchaseorders` `po`
INNER JOIN `jobs` `j` ON `po`.`jobid` =`j`.`jobid`
INNER JOIN `customer` `c` ON `j`.`customerid` =`c`.`customerid`
LEFT JOIN `addresslabel` `a` ON `a`.`labelid` =`j`.`labelid`
LEFT JOIN `customer` `s` ON `po`.`supplierid` =`s`.`customerid`
LEFT JOIN `contact` `con` ON `s`.`customerid`=`con`.`customerid` and `con`.`primarycontact`=1
WHERE `po`.`jobid` = '417138'
GROUP BY `s`.`customerid`

2016-07-29 12:04:32 - jobtracker - AdminClass -  - (579b2a307cdd4) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobdocumentsbyjobid'
AND `isactive` = 1

2016-07-29 12:04:32 - jobtracker - CustomerClass -  - (579b2a307bc37) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:04:32 - jobtracker - DocumentClass -  - (579b2a308de85) 
 - Get Job Documents Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417138'
AND `d`.`xreftable` = 'jobs'
AND `d`.`doctype` != 'images'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.doctype NOT LIKE '%cost%' AND d.doctype NOT LIKE '%tender%' AND d.doctype NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder NOT LIKE '%cost%' AND d.docfolder NOT LIKE '%tender%' AND d.docfolder NOT LIKE '%quot%' AND d.docfolder NOT LIKE '%supplier invoice%' AND NOT (d.docfolder LIKE '%report%' AND d.docformat LIKE 'pdf') AND d.docfolder NOT LIKE '%image%' AND d.docfolder NOT LIKE '%photo%'))
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 12:04:32 - jobtracker - AdminClass -  - (579b2a30a461a) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobreports'
AND `isactive` = 1

2016-07-29 12:04:32 - jobtracker - CustomerClass -  - (579b2a30a38d5) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:04:32 - jobtracker - DocumentClass -  - (579b2a30b5fd0) 
 - Get Job Reports Data Query : SELECT *
FROM `document`
WHERE `xrefid` = '417138'
AND `xreftable` = 'jobs'
AND `docfolder` = 'Reports'
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 12:04:32 - jobtracker - AdminClass -  - (579b2a30cc1e5) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobtasks'
AND `isactive` = 1

2016-07-29 12:04:32 - jobtracker - CustomerClass -  - (579b2a30cae07) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:04:32 - jobtracker - JobClass -  - (579b2a30e543a) 
 - Get Job Tasks Data Query : SELECT DISTINCT `t`.*
FROM `task` `t`
INNER JOIN `contact` `c` ON `c`.`email` = `t`.`allocatedto`
INNER JOIN `jobs` `j` ON `t`.`jobid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `t`.`jobid` = '417138'
AND `t`.`customerid` = '7781'
ORDER BY `tdate` DESC
 LIMIT 25

2016-07-29 12:04:33 - jobtracker - AdminClass -  - (579b2a31105ba) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobnotes'
AND `isactive` = 1

2016-07-29 12:04:33 - jobtracker - CustomerClass -  - (579b2a310f76d) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:04:33 - jobtracker - JobClass -  - (579b2a3123e8b) 
 - Get Job Notes Data Query : SELECT `jobnoteid`, `notes`, `notetype`, `date`
FROM `jobnote`
WHERE `jobid` = '417138'
AND `notetype` IN('client', 'completion', 'internal.extend', 'portal')
ORDER BY `jobnoteid` DESC
 LIMIT 25

2016-07-29 12:52:23 - jobtracker - AdminClass -  - (579b3566815dd) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/changepassword'
AND `isactive` = 1

2016-07-29 12:52:23 - jobtracker - SharedClass -  - (579b35667f2b4) 
 - Get Announcement : SELECT * FROM cp_message WHERE isactive=1 AND browser='' AND activationdate <= NOW() AND id NOT IN (SELECT messageid FROM cp_messagecontact WHERE contactid = 26564)

2016-07-29 12:52:23 - jobtracker - SharedClass -  - (579b35667f2b4) 
 - Get Announcement : SELECT * FROM cp_message WHERE isactive=1 AND browser='Chrome' AND activationdate <= NOW() AND id NOT IN (SELECT messageid FROM cp_messagecontact WHERE contactid = 26564) ORDER BY browser_version

2016-07-29 12:52:23 - jobtracker - CustomerClass -  - (579b356680a25) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:35 - jobtracker - AdminClass -  - (579b357390710) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'quotes'
AND `isactive` = 1

2016-07-29 12:52:35 - jobtracker - CustomerClass -  - (579b35738ff40) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:35 - jobtracker - JobClass -  - (579b3573e27a3) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`quoterqd` = 'on'
AND lcase(j.quotestatus) IN('accepted', 'approved_from_portal')
AND `j`.`jobstage` NOT IN('client_notified')
GROUP BY `j`.`sitesuburb`

2016-07-29 12:52:36 - jobtracker - JobClass -  - (579b3573e27a3) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`quoterqd` = 'on'
AND lcase(j.quotestatus) = 'pending_approval'
AND `j`.`jobstage` IN('wait_client_quote_resp', 'wait_client_qte_resp')
GROUP BY `j`.`sitesuburb`

2016-07-29 12:52:36 - jobtracker - JobClass -  - (579b3573e27a3) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`quoterqd` = 'on'
AND lcase(j.quotestatus) = 'pending_submission'
AND `jobstage` IN('next_sendquote', 'waiting_rfq_response')
GROUP BY `j`.`sitesuburb`

2016-07-29 12:52:36 - jobtracker - JobClass -  - (579b3573e27a3) 
 - Get Jobs Count With sitefm Data Query : SELECT j.sitefm, a.contactid, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`quoterqd` = 'on'
AND lcase(j.quotestatus) = 'pending_approval'
AND `j`.`jobstage` IN('wait_client_quote_resp', 'wait_client_qte_resp')
GROUP BY `j`.`sitefm`

2016-07-29 12:52:37 - jobtracker - AdminClass -  - (579b3574b552a) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'quotes/loadinprogressquotes'
AND `isactive` = 1

2016-07-29 12:52:37 - jobtracker - CustomerClass -  - (579b3574b4972) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:37 - jobtracker - JobClass -  - (579b357529312) 
 - Get In Progress Quotes Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`quoterqd` = 'on'
AND lcase(j.quotestatus) IN('accepted', 'approved_from_portal')
AND `j`.`jobstage` NOT IN('client_notified')
AND `j`.`leaddate` > '2010-07-01'
ORDER BY `qduedate` DESC
 LIMIT 25

2016-07-29 12:52:37 - jobtracker - AdminClass -  - (579b35753db37) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'quotes/loadpendingapprovalquotes'
AND `isactive` = 1

2016-07-29 12:52:37 - jobtracker - CustomerClass -  - (579b35753cb97) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:37 - jobtracker - JobClass -  - (579b3575a150e) 
 - Get Pending Approval Quotes Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`quoterqd` = 'on'
AND lcase(j.quotestatus) = 'pending_approval'
AND `j`.`jobstage` IN('wait_client_quote_resp', 'wait_client_qte_resp')
AND `j`.`leaddate` > '2010-07-01'
ORDER BY `duedate` DESC
 LIMIT 25

2016-07-29 12:52:38 - jobtracker - AdminClass -  - (579b3575ec458) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'quotes/loadwaitingdcfmreviewquotes'
AND `isactive` = 1

2016-07-29 12:52:38 - jobtracker - CustomerClass -  - (579b3575eb8a0) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:38 - jobtracker - JobClass -  - (579b357662569) 
 - Get Waiting DCFM Review Quotes Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site, INSTR(j.jobdescription,'SCOPE OF WORK'),
                            IF(INSTR(j.jobdescription,'EXCLUSIONS')>0, CONCAT(LEFT(j.jobdescription,INSTR(j.jobdescription,'EXCLUSIONS')-1), 'QUOTATION NOT FINALISED'), j.jobdescription) AS jobdescription
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`quoterqd` = 'on'
AND lcase(j.quotestatus) = 'pending_submission'
AND `jobstage` IN('next_sendquote', 'waiting_rfq_response', 'portal', 'waiting_jrq_response', 'internal_incomplete')
AND `j`.`leaddate` > '2010-07-01'
ORDER BY `qduedate` DESC
 LIMIT 25

2016-07-29 12:52:41 - jobtracker - AdminClass -  - (579b3578d368e) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs'
AND `isactive` = 1

2016-07-29 12:52:41 - jobtracker - CustomerClass -  - (579b3578d2ad6) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:41 - jobtracker - JobClass -  - (579b35792d278) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND (`j`.`quoterqd` is null or `j`.`quoterqd` != 'on')
AND `j`.`jobstage` IN('portal_await_approval', 'Waiting_Client_Instructions')
GROUP BY `j`.`sitesuburb`

2016-07-29 12:52:41 - jobtracker - JobClass -  - (579b35792d278) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `j`.`jobstage` IN('portal', 'next_allocate', 'info_pending', 'approved_from_portal')
AND IFNULL(variationstage,'') != 'variation_request_sent'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
GROUP BY `j`.`sitesuburb`

2016-07-29 12:52:41 - jobtracker - JobClass -  - (579b35792d278) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `js`.`portaldesc` = 'Job In Progress'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
GROUP BY `j`.`sitesuburb`

2016-07-29 12:52:41 - jobtracker - JobClass -  - (579b35792d278) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'declined')
AND `variationstage` = 'variation_request_sent'
GROUP BY `j`.`sitesuburb`

2016-07-29 12:52:41 - jobtracker - JobClass -  - (579b35792d278) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `js`.`portaldesc` = 'Job Completed'
GROUP BY `j`.`sitesuburb`

2016-07-29 12:52:41 - jobtracker - JobClass -  - (579b35792d278) 
 - Get Jobs Count With Suburb Data Query : SELECT j.sitesuburb as suburb, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` = 'hold'
GROUP BY `j`.`sitesuburb`

2016-07-29 12:52:41 - jobtracker - JobClass -  - (579b35792d278) 
 - Get Jobs Count With Suburb Data Query : SELECT po.supplierid, cus.companyname, COUNT(po.jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `purchaseorders` `po` ON `j`.`jobid` = `po`.`jobid`
LEFT JOIN `customer` `cus` ON `po`.`supplierid` = `cus`.`customerid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` != 'Waiting_Client_Instructions'
AND `js`.`portaldesc` = 'Job In Progress'
AND IFNULL(j.quotestatus,'') != 'pending_submission'
AND `po`.`supplierid` != '0'
GROUP BY `po`.`supplierid`

2016-07-29 12:52:41 - jobtracker - JobClass -  - (579b35792d278) 
 - Get Jobs Count With Suburb Data Query : SELECT po.supplierid, cus.companyname, COUNT(po.jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `purchaseorders` `po` ON `j`.`jobid` = `po`.`jobid`
LEFT JOIN `customer` `cus` ON `po`.`supplierid` = `cus`.`customerid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `js`.`portaldesc` = 'Job Completed'
AND `po`.`supplierid` != '0'
GROUP BY `po`.`supplierid`

2016-07-29 12:52:41 - jobtracker - JobClass -  - (579b35792d278) 
 - Get Jobs Count With sitefm Data Query : SELECT j.sitefm, a.contactid, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'declined')
AND `variationstage` = 'variation_request_sent'
GROUP BY `j`.`sitefm`

2016-07-29 12:52:43 - jobtracker - AdminClass -  - (579b357b83db7) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadwaitingapprovaljobs'
AND `isactive` = 1

2016-07-29 12:52:43 - jobtracker - CustomerClass -  - (579b357b8225e) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:44 - jobtracker - JobClass -  - (579b357c03722) 
 - Get Waiting Approval Jobs Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
INNER JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
WHERE `j`.`customerid` = '7781'
AND (`j`.`quoterqd` is null or `j`.`quoterqd` != 'on')
AND `j`.`leaddate` > '2010-07-01'
AND `j`.`jobstage` IN('portal_await_approval', 'Waiting_Client_Instructions')
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 12:52:45 - jobtracker - AdminClass -  - (579b357cd3f43) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'statements'
AND `isactive` = 1

2016-07-29 12:52:45 - jobtracker - CustomerClass -  - (579b357cd338a) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:46 - jobtracker - AdminClass -  - (579b357da8ff2) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'statements/loadfinalisedinvoices'
AND `isactive` = 1

2016-07-29 12:52:46 - jobtracker - CustomerClass -  - (579b357da8052) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:46 - jobtracker - InvoiceClass -  - (579b357e223cb) 
 - Get Finalised Invoices Data Query : SELECT i.invoiceno, i.glCode, i.invoicedate, j.custordref, j.custordref2, j.custordref3, SUM(l.netval) AS netval, SUM(l.grossval) AS Invoiced, IFNULL((SUM(l.grossval)-SUM(r.rvalue)),0) AS balance, i.approvaldate, i.esentdate, j.sitefm, j.sitestate, a.siteref, j.jobid, j.siteline2, j.sitesuburb, j.sitepostcode , j.jobdescription
FROM `invoice` `i`
INNER JOIN `jobs` `j` ON `j`.`jobid`=`i`.`jobid`
INNER JOIN `invoicelines` `l` ON `l`.`invoiceno`=`i`.`invoiceno`
INNER JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `invreceipts` `r` ON `i`.`invoiceno`=`r`.`invoiceno`
WHERE `i`.`customerid` = '7781'
AND `invdoctype` = 'INVOICE'
AND `isfinalised` =0
AND `isreversed` =0
AND (`i`.`completed` != 'on' or `i`.`completed` is NULL)
GROUP BY `i`.`invoiceno`
ORDER BY `invoiceno` DESC
 LIMIT 25

2016-07-29 12:52:46 - jobtracker - AdminClass -  - (579b357e38b31) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'statements/loadbatchhistory'
AND `isactive` = 1

2016-07-29 12:52:46 - jobtracker - CustomerClass -  - (579b357e37b90) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:46 - jobtracker - InvoiceClass -  - (579b357e9f7d1) 
 - Get Batch History Data Query : SELECT `id`, `custbatchid`, `batchdate`, `createdby`, `recipients`, `esentdate`, `invoicecount`, `totalvalue`
FROM `invoice_batch`
WHERE `customerid` = '7781'
ORDER BY `custbatchid` DESC
 LIMIT 25

2016-07-29 12:52:47 - jobtracker - AdminClass -  - (579b357eb3ff6) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'statements/loadfmapprovalinvoices'
AND `isactive` = 1

2016-07-29 12:52:47 - jobtracker - CustomerClass -  - (579b357eb343d) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:47 - jobtracker - InvoiceClass -  - (579b357f2db9f) 
 - Get FM Approval Invoices Data Query : SELECT i.invoiceno, i.glCode, i.invoicedate, j.custordref, j.custordref2, j.custordref3, SUM(l.netval) AS netval, SUM(l.grossval) AS Invoiced, i.approvaldate, i.approvedby, i.esentdate, j.sitefm, j.sitesuburb, a.siteref, j.jobid
FROM `invoice` `i`
INNER JOIN `jobs` `j` ON `j`.`jobid`=`i`.`jobid`
INNER JOIN `invoicelines` `l` ON `l`.`invoiceno`=`i`.`invoiceno`
INNER JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `i`.`customerid` = '7781'
AND `invdoctype` = 'INVOICE'
AND `isfinalised` = 1
AND `isreversed` =0
AND `i`.`approvaldate` IS NULL
AND (`i`.`completed` != 'on' or `i`.`completed` is NULL)
GROUP BY `i`.`invoiceno`
ORDER BY `invoiceno` DESC
 LIMIT 25

2016-07-29 12:52:47 - jobtracker - AdminClass -  - (579b357f65264) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'statements/loadfinalapprovalinvoices'
AND `isactive` = 1

2016-07-29 12:52:47 - jobtracker - CustomerClass -  - (579b357f642c4) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:47 - jobtracker - InvoiceClass -  - (579b357fcfd85) 
 - Get Final Approval Invoices Data Query : SELECT i.invoiceno, i.glCode, i.invoicedate, j.custordref, j.custordref2, j.custordref3, SUM(l.netval) AS netval, SUM(l.grossval) AS Invoiced, i.approvaldate, i.approvedby, i.esentdate, j.sitefm, j.sitesuburb, a.siteref, j.jobid
FROM `invoice` `i`
INNER JOIN `jobs` `j` ON `j`.`jobid`=`i`.`jobid`
INNER JOIN `invoicelines` `l` ON `l`.`invoiceno`=`i`.`invoiceno`
INNER JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `i`.`customerid` = '7781'
AND `invdoctype` = 'INVOICE'
AND `isfinalised` = 1
AND `isreversed` =0
AND `i`.`finalapprovaldate` IS NULL AND `i`.`approvaldate` IS NOT NULL
AND (`i`.`completed` != 'on' or `i`.`completed` is NULL)
GROUP BY `i`.`invoiceno`
ORDER BY `invoiceno` DESC
 LIMIT 25

2016-07-29 12:52:48 - jobtracker - AdminClass -  - (579b358006acf) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'statements/loadhistoryinvoices'
AND `isactive` = 1

2016-07-29 12:52:48 - jobtracker - CustomerClass -  - (579b358005f17) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:48 - jobtracker - InvoiceClass -  - (579b35805a2d3) 
 - Get History Invoices Data Query : SELECT i.invoiceno, i.glCode, i.invoicedate, MAX(r.rdate) AS paymentdate, DATEDIFF(MAX(r.rdate),i.invoicedate) AS days, j.custordref, j.custordref2, j.custordref3, SUM(l.netval) AS Net, SUM(l.taxval) AS GST, SUM(l.grossval) AS Invoiced, i.approvaldate, i.approvedby, i.esentdate, j.sitefm, j.sitestate, a.siteref, j.jobid
FROM `invoice` `i`
INNER JOIN `jobs` `j` ON `j`.`jobid`=`i`.`jobid`
INNER JOIN `invoicelines` `l` ON `l`.`invoiceno`=`i`.`invoiceno`
INNER JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `invreceipts` `r` ON `i`.`invoiceno`=`r`.`invoiceno`
WHERE `i`.`customerid` = '7781'
AND `invdoctype` = 'INVOICE'
AND `completed` = 'on'
AND `isreversed` =0
GROUP BY `i`.`invoiceno`
ORDER BY `invoiceno` DESC
 LIMIT 25

2016-07-29 12:52:48 - jobtracker - AdminClass -  - (579b35806cf9f) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'statements/loadopeninvoices'
AND `isactive` = 1

2016-07-29 12:52:48 - jobtracker - CustomerClass -  - (579b35806c7cf) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:52:48 - jobtracker - InvoiceClass -  - (579b3580b7719) 
 - Get Open Invoices Data Query : SELECT i.invoiceno, i.glCode, i.invoicedate, j.custordref, SUM(l.netval) AS netval, SUM(l.grossval) AS Invoiced, IFNULL((SUM(l.grossval)-SUM(r.rvalue)),0) AS balance, i.approvaldate, i.esentdate, j.sitefm, j.sitestate, a.siteref, j.jobid
FROM `invoice` `i`
INNER JOIN `jobs` `j` ON `j`.`jobid`=`i`.`jobid`
INNER JOIN `invoicelines` `l` ON `l`.`invoiceno`=`i`.`invoiceno`
INNER JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `invreceipts` `r` ON `i`.`invoiceno`=`r`.`invoiceno`
WHERE `i`.`customerid` = '7781'
AND `invdoctype` = 'INVOICE'
AND `isfinalised` = 1
AND `isreversed` =0
AND `i`.`approvaldate` IS NOT NULL and `i`.`finalapprovaldate` IS NOT NULL
AND (`i`.`completed` != 'on' or `i`.`completed` is NULL)
GROUP BY `i`.`invoiceno`
ORDER BY `invoiceno` DESC
 LIMIT 25

2016-07-29 12:53:22 - jobtracker - AdminClass -  - (579b35a21d1fd) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/portalsetup'
AND `isactive` = 1

2016-07-29 12:53:22 - jobtracker - CustomerClass -  - (579b35a21c645) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:53:23 - jobtracker - AdminClass -  - (579b35a2c3a34) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/loadportalsettings'
AND `isactive` = 1

2016-07-29 12:53:23 - jobtracker - CustomerClass -  - (579b35a2c2a94) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:53:23 - jobtracker - CustomerClass -  - (579b35a2c2a94) 
 - Get Portal Settings Data Query : SELECT rulename_id, caption, valuetype,  default_rule_value, default_is_sitecontact, default_is_sitefm, default_is_master,  (SELECT rule_value FROM customer_rule_customer WHERE customer_rule_id= rulename_id AND customerid=7781) AS value,  (SELECT is_sitecontact FROM customer_rule_customer WHERE customer_rule_id= rulename_id AND customerid=7781) AS is_sitecontact,  (SELECT is_sitefm FROM customer_rule_customer WHERE customer_rule_id= rulename_id AND customerid=7781) AS is_sitefm,  (SELECT is_master FROM customer_rule_customer WHERE customer_rule_id= rulename_id AND customerid=7781) AS is_master  FROM customer_rulename cr WHERE isclientportal=1 AND is_active=1  ORDER BY valuetype, caption 

2016-07-29 12:53:23 - jobtracker - AdminClass -  - (579b35a34f6f2) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'settings/loadportalauditlog'
AND `isactive` = 1

2016-07-29 12:53:23 - jobtracker - CustomerClass -  - (579b35a34e752) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:53:23 - jobtracker - CustomerClass -  - (579b35a34e752) 
 - Get Portal Settings Audit Log Data Query : SELECT `pal`.`id`, `pal`.`dateadded`, `cr`.`caption` AS `setting`, `pal`.`oldvalue`, `pal`.`newvalue`, `c`.`firstname` AS `editedby`
FROM `cp_portalsetup_auditlog` `pal`
INNER JOIN `customer_rulename` `cr` ON `pal`.`ruleid`=`cr`.`rulename_id`
LEFT JOIN `contact` `c` ON `pal`.`addedby`=`c`.`contactid`
WHERE `pal`.`customerid` = '7781'
ORDER BY `dateadded` DESC
 LIMIT 25

2016-07-29 12:53:30 - jobtracker - AdminClass -  - (579b35a9ec056) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'budgets'
AND `isactive` = 1

2016-07-29 12:53:30 - jobtracker - CustomerClass -  - (579b35a9eb49e) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:53:31 - jobtracker - AdminClass -  - (579b35aacebc8) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'budgets/loadbudgets'
AND `isactive` = 1

2016-07-29 12:53:31 - jobtracker - CustomerClass -  - (579b35aace010) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:53:31 - jobtracker - BudgetClass -  - (579b35ab3bc4f) 
 - Get Budget Data Query : SELECT a.labelid, concat(a.siteline1,'<br>',a.siteline2) as siteaddress, a.siteline1, a.siteline2, a.sitesuburb, a.sitestate,  c.value_string AS siteref1, c2.value_string AS siteref2, a.sitefm, a.contactid, SUM(g.amount) AS annualbudget,  getSiteActualAmount(a.labelid,'2016-01-01','2016-12-31') AS actual, (SUM(g.amount)-getSiteActualAmount(a.labelid, '2016-01-01','2016-12-31')) AS remaining,  ((getSiteActualAmount(a.labelid, '2016-01-01','2016-12-31') / SUM(g.amount)) * 100) AS pctspend, MAX(modifydate) AS lastupdated, MAX(createdate) AS lastcreatedate
FROM `addresslabel` `a`
INNER JOIN `contact` `d` ON `a`.`contactid` = `d`.`contactid`
LEFT JOIN `addresslabel_attribute` `b` ON `b`.`name`='siteref1'
LEFT JOIN `addresslabel_attribute_value` `c` ON `b`.`id`=`c`.`attributeid` AND `a`.`labelid`=`c`.`labelid`
LEFT JOIN `addresslabel_attribute` `b2` ON `b2`.`name`='siteref2'
LEFT JOIN `addresslabel_attribute_value` `c2` ON `b2`.`id`=`c2`.`attributeid` AND `a`.`labelid`=`c2`.`labelid`
LEFT JOIN `budget` `g` ON `a`.`labelid`=`g`.`recordid`
WHERE `d`.`customerid` = '7781'
AND ((g.yearno*100)+g.monthno) >= 201601
AND ((g.yearno*100)+g.monthno) <= 201612
GROUP BY `a`.`labelid`
ORDER BY `labelid` ASC
 LIMIT 25

2016-07-29 12:53:38 - jobtracker - AdminClass -  - (579b35b226a03) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'compliance'
AND `isactive` = 1

2016-07-29 12:53:38 - jobtracker - CustomerClass -  - (579b35b226233) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:53:38 - jobtracker - ComplianceClass -  - (579b35b2709ac) 
 - Get Compliance Caption Data Query : SELECT cgd.caption, sum(cd.has_startdate) as has_startdate, sum(cd.has_number) as has_number, sum(cd.track_expiry) as has_expiry, 1 AS has_doclink  FROM compliancegroupdetail cgd  INNER JOIN compliancegroup cg ON cg.compliance_group_id=cgd.compliance_group_id  INNER JOIN compliance_itemtype cit ON cgd.compliance_itemtype_id=cit.id INNER JOIN document d ON d.doctype=cgd.cdtype  INNER JOIN contact c ON d.xrefid=c.contactid  INNER JOIN customer cu ON c.customerid=cu.customerid INNER JOIN compliancedocs cd ON cd.cdtype=d.doctype INNER JOIN compliance_itemtype ci ON ci.id=cgd.compliance_itemtype_id  INNER JOIN compliance_contact_customer ccc ON c.contactid=ccc.contactid AND ccc.customerid=cg.customerid  INNER JOIN compliance_contact_status  ccs ON ccc.compconstatusid = ccs.id  WHERE cg.customerid=7781 AND cgd.showinclientportal=1 AND cit.name = 'document' AND ccs.isactive=1 AND ccs.name = 'CURRENT'  GROUP BY cgd.caption  UNION   SELECT  cgd.caption, sum(lt.has_startdate) as has_startdate, sum(lt.has_number) as has_number, sum(lt.has_expiry) as has_expiry, sum(lt.has_doclink) as has_doclink  FROM compliancegroupdetail cgd   INNER JOIN compliancegroup cg ON cg.compliance_group_id=cgd.compliance_group_id INNER JOIN compliance_itemtype cit ON cgd.compliance_itemtype_id=cit.id  INNER JOIN contractor_licence cl ON cl.licencetypeid=cgd.cd_id  INNER JOIN licencetype lt ON lt.id=cl.licencetypeid  INNER JOIN contact c ON cl.contactid=c.contactid  INNER JOIN customer cu ON c.customerid=cu.customerid  LEFT JOIN document d ON cl.documentid=d.documentid  INNER JOIN compliance_contact_customer ccc ON c.contactid=ccc.contactid AND ccc.customerid=cg.customerid  INNER JOIN compliance_contact_status  ccs ON ccc.compconstatusid = ccs.id  WHERE cg.customerid=7781 AND cgd.showinclientportal=1  AND cit.name = 'licence'  AND ccs.isactive=1 AND ccs.name = 'CURRENT'  GROUP BY cgd.caption ORDER BY caption 

2016-07-29 12:53:39 - jobtracker - AdminClass -  - (579b35b2c5920) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'compliance/loadcompliances'
AND `isactive` = 1

2016-07-29 12:53:39 - jobtracker - CustomerClass -  - (579b35b2c4d68) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:53:39 - jobtracker - ComplianceClass -  - (579b35b341fc2) 
 - Get Compliance Caption Data Query : SELECT cgd.caption, sum(cd.has_startdate) as has_startdate, sum(cd.has_number) as has_number, sum(cd.track_expiry) as has_expiry, 1 AS has_doclink  FROM compliancegroupdetail cgd  INNER JOIN compliancegroup cg ON cg.compliance_group_id=cgd.compliance_group_id  INNER JOIN compliance_itemtype cit ON cgd.compliance_itemtype_id=cit.id INNER JOIN document d ON d.doctype=cgd.cdtype  INNER JOIN contact c ON d.xrefid=c.contactid  INNER JOIN customer cu ON c.customerid=cu.customerid INNER JOIN compliancedocs cd ON cd.cdtype=d.doctype INNER JOIN compliance_itemtype ci ON ci.id=cgd.compliance_itemtype_id  INNER JOIN compliance_contact_customer ccc ON c.contactid=ccc.contactid AND ccc.customerid=cg.customerid  INNER JOIN compliance_contact_status  ccs ON ccc.compconstatusid = ccs.id  WHERE cg.customerid=7781 AND cgd.showinclientportal=1 AND cit.name = 'document' AND ccs.isactive=1 AND ccs.name = 'CURRENT'  GROUP BY cgd.caption  UNION   SELECT  cgd.caption, sum(lt.has_startdate) as has_startdate, sum(lt.has_number) as has_number, sum(lt.has_expiry) as has_expiry, sum(lt.has_doclink) as has_doclink  FROM compliancegroupdetail cgd   INNER JOIN compliancegroup cg ON cg.compliance_group_id=cgd.compliance_group_id INNER JOIN compliance_itemtype cit ON cgd.compliance_itemtype_id=cit.id  INNER JOIN contractor_licence cl ON cl.licencetypeid=cgd.cd_id  INNER JOIN licencetype lt ON lt.id=cl.licencetypeid  INNER JOIN contact c ON cl.contactid=c.contactid  INNER JOIN customer cu ON c.customerid=cu.customerid  LEFT JOIN document d ON cl.documentid=d.documentid  INNER JOIN compliance_contact_customer ccc ON c.contactid=ccc.contactid AND ccc.customerid=cg.customerid  INNER JOIN compliance_contact_status  ccs ON ccc.compconstatusid = ccs.id  WHERE cg.customerid=7781 AND cgd.showinclientportal=1  AND cit.name = 'licence'  AND ccs.isactive=1 AND ccs.name = 'CURRENT'  GROUP BY cgd.caption ORDER BY caption 

2016-07-29 12:53:39 - jobtracker - ComplianceClass -  - (579b35b341fc2) 
 - Get Asset Data Query : SELECT c.contactid, c.firstname, IF(cu.origin='internal','DCFM',cu.companyname) AS company, c.suburb, c.state, cu.industrysector AS trade, cu.origin AS type  FROM compliancegroupdetail cgd  INNER JOIN compliancegroup cg ON cg.compliance_group_id = cgd.compliance_group_id  INNER JOIN compliance_itemtype cit ON cgd.compliance_itemtype_id=cit.id  INNER JOIN document d ON d.doctype=cgd.cdtype  INNER JOIN contact c ON d.xrefid=c.contactid  INNER JOIN customer cu ON c.customerid=cu.customerid  INNER JOIN compliancedocs cd ON cd.cdtype=d.doctype  INNER JOIN compliance_itemtype ci ON ci.id=cgd.compliance_itemtype_id  INNER JOIN compliance_contact_customer ccc ON c.contactid=ccc.contactid AND ccc.customerid=cg.customerid  INNER JOIN compliance_contact_status  ccs ON ccc.compconstatusid = ccs.id  WHERE cg.customerid=7781 AND cgd.showinclientportal=1 AND cit.name = 'document' AND ccs.isactive=1 AND ccs.name = 'CURRENT'   UNION  SELECT c.contactid, c.firstname, IF(cu.origin='internal','DCFM',cu.companyname) AS company, c.suburb, c.state, cu.industrysector AS trade, cu.origin AS type  FROM compliancegroupdetail cgd  INNER JOIN compliancegroup cg ON cg.compliance_group_id=cgd.compliance_group_id  INNER JOIN compliance_itemtype cit ON cgd.compliance_itemtype_id=cit.id  INNER JOIN contractor_licence cl ON cl.licencetypeid=cgd.cd_id  INNER JOIN licencetype lt ON lt.id=cl.licencetypeid  INNER JOIN contact c ON cl.contactid=c.contactid  INNER JOIN customer cu ON c.customerid=cu.customerid  LEFT JOIN document d ON cl.documentid=d.documentid  WHERE cg.customerid=7781 AND cgd.showinclientportal=1 AND cit.name = 'licence'    GROUP BY c.contactid ORDER BY firstname asc  LIMIT 0, 25

2016-07-29 12:53:43 - jobtracker - AdminClass -  - (579b35b79d1c4) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'grids'
AND `isactive` = 1

2016-07-29 12:53:43 - jobtracker - CustomerClass -  - (579b35b79be3c) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:53:44 - jobtracker - JobClass -  - (579b35b7eb3d7) 
 - Get Jobs Count By Stage Data Query : SELECT DISTINCT if(portaldesc!='', portaldesc, jobstage) as stage, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'client_notified', 'declined')
AND IFNULL(j.quotestatus,'') not in ('pending_submission','pending_approval')
GROUP BY `stage`

2016-07-29 12:53:52 - jobtracker - AdminClass -  - (579b35c01a5e9) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'quotes/loadwaitingdcfmreviewquotes'
AND `isactive` = 1

2016-07-29 12:53:52 - jobtracker - CustomerClass -  - (579b35c019a30) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:53:52 - jobtracker - JobClass -  - (579b35c06a353) 
 - Get Waiting DCFM Review Quotes Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site, INSTR(j.jobdescription,'SCOPE OF WORK'),
                            IF(INSTR(j.jobdescription,'EXCLUSIONS')>0, CONCAT(LEFT(j.jobdescription,INSTR(j.jobdescription,'EXCLUSIONS')-1), 'QUOTATION NOT FINALISED'), j.jobdescription) AS jobdescription
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`quoterqd` = 'on'
AND lcase(j.quotestatus) = 'pending_submission'
AND `jobstage` IN('next_sendquote', 'waiting_rfq_response', 'portal', 'waiting_jrq_response', 'internal_incomplete')
AND `j`.`leaddate` > '2010-07-01'
ORDER BY `qduedate` DESC
 LIMIT 25

2016-07-29 12:54:06 - jobtracker - AdminClass -  - (579b35ceab97b) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobsearchresult'
AND `isactive` = 1

2016-07-29 12:54:06 - jobtracker - CustomerClass -  - (579b35ceaadc3) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:54:07 - jobtracker - JobClass -  - (579b35cf0323d) 
 - Get Jobs Data By Stage Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'client_notified', 'declined')
AND IFNULL(j.quotestatus,'') not in ('pending_submission','pending_approval')
AND (`js`.`portaldesc` = 'Job in Progress' or `j`.`jobstage` = 'Job in Progress')
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 12:54:40 - jobtracker - AdminClass -  - (579b35efbb6f6) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobdetail'
AND `isactive` = 1

2016-07-29 12:54:40 - jobtracker - CustomerClass -  - (579b35efbab3e) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 12:56:47 - jobtracker - AdminClass -  - (579b366f7ff0a) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobdetail'
AND `isactive` = 1

2016-07-29 12:56:47 - jobtracker - CustomerClass -  - (579b366f7f352) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 13:23:32 - jobtracker - AdminClass -  - (579b3cb495000) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'grids'
AND `isactive` = 1

2016-07-29 13:23:32 - jobtracker - CustomerClass -  - (579b3cb494448) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 13:23:33 - jobtracker - JobClass -  - (579b3cb500146) 
 - Get Jobs Count By Stage Data Query : SELECT DISTINCT if(portaldesc!='', portaldesc, jobstage) as stage, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'client_notified', 'declined')
AND IFNULL(j.quotestatus,'') not in ('pending_submission','pending_approval')
GROUP BY `stage`

2016-07-29 14:05:36 - jobtracker - AdminClass -  - (579b469013950) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'grids'
AND `isactive` = 1

2016-07-29 14:05:36 - jobtracker - CustomerClass -  - (579b469013180) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 14:05:36 - jobtracker - JobClass -  - (579b46906465b) 
 - Get Jobs Count By Stage Data Query : SELECT DISTINCT if(portaldesc!='', portaldesc, jobstage) as stage, COUNT(jobid) AS count
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'client_notified', 'declined')
AND IFNULL(j.quotestatus,'') not in ('pending_submission','pending_approval')
GROUP BY `stage`

2016-07-29 14:05:45 - jobtracker - AdminClass -  - (579b46993c080) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'statements/loadfinalapprovalinvoices'
AND `isactive` = 1

2016-07-29 14:05:45 - jobtracker - CustomerClass -  - (579b46993b4c8) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 14:05:45 - jobtracker - InvoiceClass -  - (579b469989eaa) 
 - Get Final Approval Invoices Data Query : SELECT i.invoiceno, i.glCode, i.invoicedate, j.custordref, j.custordref2, j.custordref3, SUM(l.netval) AS netval, SUM(l.grossval) AS Invoiced, i.approvaldate, i.approvedby, i.esentdate, j.sitefm, j.sitesuburb, a.siteref, j.jobid
FROM `invoice` `i`
INNER JOIN `jobs` `j` ON `j`.`jobid`=`i`.`jobid`
INNER JOIN `invoicelines` `l` ON `l`.`invoiceno`=`i`.`invoiceno`
INNER JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `i`.`customerid` = '7781'
AND `invdoctype` = 'INVOICE'
AND `isfinalised` = 1
AND `isreversed` =0
AND `i`.`finalapprovaldate` IS NULL AND `i`.`approvaldate` IS NOT NULL
AND (`i`.`completed` != 'on' or `i`.`completed` is NULL)
GROUP BY `i`.`invoiceno`
ORDER BY `invoiceno` DESC
 LIMIT 25

2016-07-29 14:05:48 - jobtracker - AdminClass -  - (579b469c98f0a) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobsearchresult'
AND `isactive` = 1

2016-07-29 14:05:48 - jobtracker - CustomerClass -  - (579b469c98352) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 14:05:49 - jobtracker - JobClass -  - (579b469ce711d) 
 - Get Jobs Data By Stage Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'client_notified', 'declined')
AND IFNULL(j.quotestatus,'') not in ('pending_submission','pending_approval')
AND (`js`.`portaldesc` = 'DCFM Review' or `j`.`jobstage` = 'DCFM Review')
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 14:05:58 - jobtracker - AdminClass -  - (579b46a632b6f) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobsearchresult'
AND `isactive` = 1

2016-07-29 14:05:58 - jobtracker - CustomerClass -  - (579b46a631fb6) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 14:05:58 - jobtracker - JobClass -  - (579b46a680d81) 
 - Get Jobs Data By Stage Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'client_notified', 'declined')
AND IFNULL(j.quotestatus,'') not in ('pending_submission','pending_approval')
AND (`js`.`portaldesc` = 'client_allocated' or `j`.`jobstage` = 'client_allocated')
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 14:06:07 - jobtracker - AdminClass -  - (579b46af87f95) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'quotes/loadpendingapprovalquotes'
AND `isactive` = 1

2016-07-29 14:06:07 - jobtracker - CustomerClass -  - (579b46af873dd) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 14:06:08 - jobtracker - JobClass -  - (579b46afd3a97) 
 - Get Pending Approval Quotes Data Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`quoterqd` = 'on'
AND lcase(j.quotestatus) = 'pending_approval'
AND `j`.`jobstage` IN('wait_client_quote_resp', 'wait_client_qte_resp')
AND `j`.`leaddate` > '2010-07-01'
ORDER BY `duedate` DESC
 LIMIT 25

2016-07-29 14:06:12 - jobtracker - AdminClass -  - (579b46b4130fc) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobsearchresult'
AND `isactive` = 1

2016-07-29 14:06:12 - jobtracker - CustomerClass -  - (579b46b412544) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 14:06:12 - jobtracker - JobClass -  - (579b46b45e42d) 
 - Get Jobs Data By Stage Query : SELECT j.*, if(portaldesc!='', portaldesc, jobstage) as portaldesc, concat(j.siteline1,'<br>',j.siteline2,'<br>',j.sitesuburb,' ',j.sitestate,' ',j.sitepostcode) as site
FROM `jobs` `j`
LEFT JOIN `jobstage` `js` ON `j`.`jobstage` = `js`.`jobstagedesc`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
LEFT JOIN `contact` `c` ON `a`.`contactid`=`c`.`contactid`
LEFT JOIN `contact` `jc` ON `j`.`contactid`=`jc`.`contactid`
WHERE `j`.`customerid` = '7781'
AND `j`.`jobstage` NOT IN('cancelled', 'hold', 'client_notified', 'declined')
AND IFNULL(j.quotestatus,'') not in ('pending_submission','pending_approval')
AND (`js`.`portaldesc` = 'client_allocated' or `j`.`jobstage` = 'client_allocated')
ORDER BY `jobid` DESC
 LIMIT 25

2016-07-29 14:06:19 - jobtracker - AdminClass -  - (579b46bacb6ed) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/jobdetail'
AND `isactive` = 1

2016-07-29 14:06:19 - jobtracker - CustomerClass -  - (579b46bacaf1d) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 14:06:19 - jobtracker - DocumentClass -  - (579b46bb2eb32) 
 - Get Job Images Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417130'
AND `d`.`xreftable` = 'jobs'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.docname NOT LIKE '%cost%' AND d.docname NOT LIKE '%tender%' AND d.docname NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder LIKE '%image%' OR d.docfolder LIKE '%photo%'))

2016-07-29 14:06:19 - jobtracker - JobClass -  - (579b46bb2f6ea) 
 - Get Purchase order Data Query : SELECT po.*, s.companyname as suppliername, s.phone as supplierphone, s.email as supplieremail, c.companyname, c.email as companyemail, j.labelid, j.siteline1, j.siteline2, j.siteline3, j.sitesuburb, j.sitestate, j.sitepostcode, j.jobdescription, j.sitecontact, j.sitephone, j.siteemail, j.customerid, j.quoterqd, a.latitude_decimal, a.longitude_decimal, GROUP_CONCAT(TRIM(CONCAT(con.firstname,' ',con.surname))) AS primarycontact
FROM `purchaseorders` `po`
INNER JOIN `jobs` `j` ON `po`.`jobid` =`j`.`jobid`
INNER JOIN `customer` `c` ON `j`.`customerid` =`c`.`customerid`
LEFT JOIN `addresslabel` `a` ON `a`.`labelid` =`j`.`labelid`
LEFT JOIN `customer` `s` ON `po`.`supplierid` =`s`.`customerid`
LEFT JOIN `contact` `con` ON `s`.`customerid`=`con`.`customerid` and `con`.`primarycontact`=1
WHERE `po`.`jobid` = '417130'
GROUP BY `s`.`customerid`

2016-07-29 14:06:20 - jobtracker - AdminClass -  - (579b46bbca39e) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobnotes'
AND `isactive` = 1

2016-07-29 14:06:20 - jobtracker - CustomerClass -  - (579b46bbc9bce) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 14:06:20 - jobtracker - JobClass -  - (579b46bc3e56f) 
 - Get Job Notes Data Query : SELECT `jobnoteid`, `notes`, `notetype`, `date`
FROM `jobnote`
WHERE `jobid` = '417130'
AND `notetype` IN('client', 'completion', 'internal.extend', 'portal')
ORDER BY `jobnoteid` DESC
 LIMIT 25

2016-07-29 14:06:20 - jobtracker - AdminClass -  - (579b46bc529ab) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobdocumentsbyjobid'
AND `isactive` = 1

2016-07-29 14:06:20 - jobtracker - CustomerClass -  - (579b46bc51df3) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 14:06:20 - jobtracker - DocumentClass -  - (579b46bcc4616) 
 - Get Job Documents Data Query : SELECT `d`.*
FROM `document` `d`
INNER JOIN `jobs` `j` ON `d`.`xrefid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `d`.`xrefid` = '417130'
AND `d`.`xreftable` = 'jobs'
AND `d`.`doctype` != 'images'
AND 0 = 'IF(d.isapprovalrequired=1, \"approved\", \"\") IS NOT NULL'
AND (d.doctype NOT LIKE '%cost%' AND d.doctype NOT LIKE '%tender%' AND d.doctype NOT LIKE '%quot%' AND (`d`.`docfolder` IS NULL OR d.docfolder NOT LIKE '%cost%' AND d.docfolder NOT LIKE '%tender%' AND d.docfolder NOT LIKE '%quot%' AND d.docfolder NOT LIKE '%supplier invoice%' AND NOT (d.docfolder LIKE '%report%' AND d.docformat LIKE 'pdf') AND d.docfolder NOT LIKE '%image%' AND d.docfolder NOT LIKE '%photo%'))
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25

2016-07-29 14:06:21 - jobtracker - AdminClass -  - (579b46bcf3421) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'jobs/loadjobtasks'
AND `isactive` = 1

2016-07-29 14:06:21 - jobtracker - CustomerClass -  - (579b46bcf2869) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 14:06:21 - jobtracker - JobClass -  - (579b46bd49d3b) 
 - Get Job Tasks Data Query : SELECT DISTINCT `t`.*
FROM `task` `t`
INNER JOIN `contact` `c` ON `c`.`email` = `t`.`allocatedto`
INNER JOIN `jobs` `j` ON `t`.`jobid`=`j`.`jobid`
LEFT JOIN `addresslabel` `a` ON `j`.`labelid`=`a`.`labelid`
WHERE `t`.`jobid` = '417130'
AND `t`.`customerid` = '7781'
ORDER BY `tdate` DESC
 LIMIT 25

2016-07-29 14:06:21 - jobtracker - AdminClass -  - (579b46bd5879c) 
 - Get Help : SELECT *
FROM `cp_help`
WHERE `route` = 'documents/loadjobreports'
AND `isactive` = 1

2016-07-29 14:06:21 - jobtracker - CustomerClass -  - (579b46bd583b4) 
 - Get Customer Data Query : SELECT s.*, st.name as typename, st.code as typecode, t.se_trade_name, GROUP_CONCAT(TRIM(CONCAT(c.firstname,' ',c.surname))) AS primarycontact
FROM `customer` `s`
LEFT JOIN `se_trade` `t` ON `s`.`tradeid`=`t`.`id`
LEFT JOIN `cp_supplier_type` `st` ON `s`.`typeid`=`st`.`id`
LEFT JOIN `contact` `c` ON `s`.`customerid`=`c`.`customerid` and `c`.`primarycontact`=1
WHERE `s`.`customerid` = '7781'
GROUP BY `s`.`customerid`

2016-07-29 14:06:21 - jobtracker - DocumentClass -  - (579b46bd944a6) 
 - Get Job Reports Data Query : SELECT *
FROM `document`
WHERE `xrefid` = '417130'
AND `xreftable` = 'jobs'
AND `docfolder` = 'Reports'
ORDER BY `doctype` DESC, `dateadded` DESC
 LIMIT 25
